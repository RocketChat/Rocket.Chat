import { AppObjectRegistry } from '../../AppObjectRegistry.ts';
import { AppAccessorsInstance } from '../../lib/accessors/mod.ts';
export default async function handleOnSettingUpdated(params) {
  const app = AppObjectRegistry.get('app');
  if (typeof app?.onSettingUpdated !== 'function') {
    throw new Error('App must contain an onSettingUpdated function', {
      cause: 'invalid_app'
    });
  }
  if (!Array.isArray(params)) {
    throw new Error('Invalid params', {
      cause: 'invalid_param_type'
    });
  }
  const [setting] = params;
  await app.onSettingUpdated(setting, AppAccessorsInstance.getConfigurationModify(), AppAccessorsInstance.getReader(), AppAccessorsInstance.getHttp());
  return true;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvYWJoaW5hdi9yb2NrZXQuY2hhdC9Sb2NrZXQuQ2hhdC9wYWNrYWdlcy9hcHBzLWVuZ2luZS9kZW5vLXJ1bnRpbWUvaGFuZGxlcnMvYXBwL2hhbmRsZU9uU2V0dGluZ1VwZGF0ZWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBcHAgfSBmcm9tICdAcm9ja2V0LmNoYXQvYXBwcy1lbmdpbmUvZGVmaW5pdGlvbi9BcHAudHMnO1xuXG5pbXBvcnQgeyBBcHBPYmplY3RSZWdpc3RyeSB9IGZyb20gJy4uLy4uL0FwcE9iamVjdFJlZ2lzdHJ5LnRzJztcbmltcG9ydCB7IEFwcEFjY2Vzc29yc0luc3RhbmNlIH0gZnJvbSAnLi4vLi4vbGliL2FjY2Vzc29ycy9tb2QudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVPblNldHRpbmdVcGRhdGVkKHBhcmFtczogdW5rbm93bik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGFwcCA9IEFwcE9iamVjdFJlZ2lzdHJ5LmdldDxBcHA+KCdhcHAnKTtcblxuICAgIGlmICh0eXBlb2YgYXBwPy5vblNldHRpbmdVcGRhdGVkICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXBwIG11c3QgY29udGFpbiBhbiBvblNldHRpbmdVcGRhdGVkIGZ1bmN0aW9uJywge1xuICAgICAgICAgICAgY2F1c2U6ICdpbnZhbGlkX2FwcCcsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICghQXJyYXkuaXNBcnJheShwYXJhbXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwYXJhbXMnLCB7IGNhdXNlOiAnaW52YWxpZF9wYXJhbV90eXBlJyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBbc2V0dGluZ10gPSBwYXJhbXMgYXMgW1JlY29yZDxzdHJpbmcsIHVua25vd24+XTtcblxuICAgIGF3YWl0IGFwcC5vblNldHRpbmdVcGRhdGVkKHNldHRpbmcsIEFwcEFjY2Vzc29yc0luc3RhbmNlLmdldENvbmZpZ3VyYXRpb25Nb2RpZnkoKSwgQXBwQWNjZXNzb3JzSW5zdGFuY2UuZ2V0UmVhZGVyKCksIEFwcEFjY2Vzc29yc0luc3RhbmNlLmdldEh0dHAoKSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxTQUFTLGlCQUFpQixRQUFRLDZCQUE2QjtBQUMvRCxTQUFTLG9CQUFvQixRQUFRLDZCQUE2QjtBQUVsRSxlQUFlLGVBQWUsdUJBQXVCLE1BQWU7RUFDaEUsTUFBTSxNQUFNLGtCQUFrQixHQUFHLENBQU07RUFFdkMsSUFBSSxPQUFPLEtBQUsscUJBQXFCLFlBQVk7SUFDN0MsTUFBTSxJQUFJLE1BQU0saURBQWlEO01BQzdELE9BQU87SUFDWDtFQUNKO0VBRUEsSUFBSSxDQUFDLE1BQU0sT0FBTyxDQUFDLFNBQVM7SUFDeEIsTUFBTSxJQUFJLE1BQU0sa0JBQWtCO01BQUUsT0FBTztJQUFxQjtFQUNwRTtFQUVBLE1BQU0sQ0FBQyxRQUFRLEdBQUc7RUFFbEIsTUFBTSxJQUFJLGdCQUFnQixDQUFDLFNBQVMscUJBQXFCLHNCQUFzQixJQUFJLHFCQUFxQixTQUFTLElBQUkscUJBQXFCLE9BQU87RUFFakosT0FBTztBQUNYIn0=