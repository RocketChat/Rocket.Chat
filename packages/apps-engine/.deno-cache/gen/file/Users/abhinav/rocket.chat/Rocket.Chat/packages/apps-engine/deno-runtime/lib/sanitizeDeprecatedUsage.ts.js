import { fixBrokenSynchronousAPICalls } from "./ast/mod.ts";
function hasPotentialDeprecatedUsage(source) {
  return(// potential usage of Room.usernames getter
  source.includes('.usernames') || // potential usage of LivechatRead.isOnline method
  source.includes('.isOnline(') || // potential usage of LivechatCreator.createToken method
  source.includes('.createToken('));
}
export function sanitizeDeprecatedUsage(source) {
  if (!hasPotentialDeprecatedUsage(source)) {
    return source;
  }
  return fixBrokenSynchronousAPICalls(source);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvYWJoaW5hdi9yb2NrZXQuY2hhdC9Sb2NrZXQuQ2hhdC9wYWNrYWdlcy9hcHBzLWVuZ2luZS9kZW5vLXJ1bnRpbWUvbGliL3Nhbml0aXplRGVwcmVjYXRlZFVzYWdlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpeEJyb2tlblN5bmNocm9ub3VzQVBJQ2FsbHMgfSBmcm9tIFwiLi9hc3QvbW9kLnRzXCI7XG5cbmZ1bmN0aW9uIGhhc1BvdGVudGlhbERlcHJlY2F0ZWRVc2FnZShzb3VyY2U6IHN0cmluZykge1xuICAgIHJldHVybiAoXG4gICAgICAgIC8vIHBvdGVudGlhbCB1c2FnZSBvZiBSb29tLnVzZXJuYW1lcyBnZXR0ZXJcbiAgICAgICAgc291cmNlLmluY2x1ZGVzKCcudXNlcm5hbWVzJykgfHxcbiAgICAgICAgLy8gcG90ZW50aWFsIHVzYWdlIG9mIExpdmVjaGF0UmVhZC5pc09ubGluZSBtZXRob2RcbiAgICAgICAgc291cmNlLmluY2x1ZGVzKCcuaXNPbmxpbmUoJykgfHxcbiAgICAgICAgLy8gcG90ZW50aWFsIHVzYWdlIG9mIExpdmVjaGF0Q3JlYXRvci5jcmVhdGVUb2tlbiBtZXRob2RcbiAgICAgICAgc291cmNlLmluY2x1ZGVzKCcuY3JlYXRlVG9rZW4oJylcbiAgICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYW5pdGl6ZURlcHJlY2F0ZWRVc2FnZShzb3VyY2U6IHN0cmluZykge1xuICAgIGlmICghaGFzUG90ZW50aWFsRGVwcmVjYXRlZFVzYWdlKHNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZml4QnJva2VuU3luY2hyb25vdXNBUElDYWxscyhzb3VyY2UpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsNEJBQTRCLFFBQVEsZUFBZTtBQUU1RCxTQUFTLDRCQUE0QixNQUFjO0VBQy9DLE9BQ0ksMkNBQTJDO0VBQzNDLE9BQU8sUUFBUSxDQUFDLGlCQUNoQixrREFBa0Q7RUFDbEQsT0FBTyxRQUFRLENBQUMsaUJBQ2hCLHdEQUF3RDtFQUN4RCxPQUFPLFFBQVEsQ0FBQztBQUV4QjtBQUVBLE9BQU8sU0FBUyx3QkFBd0IsTUFBYztFQUNsRCxJQUFJLENBQUMsNEJBQTRCLFNBQVM7SUFDdEMsT0FBTztFQUNYO0VBRUEsT0FBTyw2QkFBNkI7QUFDeEMifQ==