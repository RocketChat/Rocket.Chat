import { AppObjectRegistry } from '../../AppObjectRegistry.ts';
import { AppAccessorsInstance } from '../../lib/accessors/mod.ts';
export default function handleOnPreSettingUpdate(params) {
  const app = AppObjectRegistry.get('app');
  if (typeof app?.onPreSettingUpdate !== 'function') {
    throw new Error('App must contain an onPreSettingUpdate function', {
      cause: 'invalid_app'
    });
  }
  if (!Array.isArray(params)) {
    throw new Error('Invalid params', {
      cause: 'invalid_param_type'
    });
  }
  const [setting] = params;
  return app.onPreSettingUpdate(setting, AppAccessorsInstance.getConfigurationModify(), AppAccessorsInstance.getReader(), AppAccessorsInstance.getHttp());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvYWJoaW5hdi9yb2NrZXQuY2hhdC9Sb2NrZXQuQ2hhdC9wYWNrYWdlcy9hcHBzLWVuZ2luZS9kZW5vLXJ1bnRpbWUvaGFuZGxlcnMvYXBwL2hhbmRsZU9uUHJlU2V0dGluZ1VwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEFwcCB9IGZyb20gJ0Byb2NrZXQuY2hhdC9hcHBzLWVuZ2luZS9kZWZpbml0aW9uL0FwcC50cyc7XG5cbmltcG9ydCB7IEFwcE9iamVjdFJlZ2lzdHJ5IH0gZnJvbSAnLi4vLi4vQXBwT2JqZWN0UmVnaXN0cnkudHMnO1xuaW1wb3J0IHsgQXBwQWNjZXNzb3JzSW5zdGFuY2UgfSBmcm9tICcuLi8uLi9saWIvYWNjZXNzb3JzL21vZC50cyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZU9uUHJlU2V0dGluZ1VwZGF0ZShwYXJhbXM6IHVua25vd24pOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIGNvbnN0IGFwcCA9IEFwcE9iamVjdFJlZ2lzdHJ5LmdldDxBcHA+KCdhcHAnKTtcblxuICAgIGlmICh0eXBlb2YgYXBwPy5vblByZVNldHRpbmdVcGRhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHAgbXVzdCBjb250YWluIGFuIG9uUHJlU2V0dGluZ1VwZGF0ZSBmdW5jdGlvbicsIHtcbiAgICAgICAgICAgIGNhdXNlOiAnaW52YWxpZF9hcHAnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocGFyYW1zKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyYW1zJywgeyBjYXVzZTogJ2ludmFsaWRfcGFyYW1fdHlwZScgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgW3NldHRpbmddID0gcGFyYW1zIGFzIFtSZWNvcmQ8c3RyaW5nLCB1bmtub3duPl07XG5cbiAgICByZXR1cm4gYXBwLm9uUHJlU2V0dGluZ1VwZGF0ZShzZXR0aW5nLCBBcHBBY2Nlc3NvcnNJbnN0YW5jZS5nZXRDb25maWd1cmF0aW9uTW9kaWZ5KCksIEFwcEFjY2Vzc29yc0luc3RhbmNlLmdldFJlYWRlcigpLCBBcHBBY2Nlc3NvcnNJbnN0YW5jZS5nZXRIdHRwKCkpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLFNBQVMsaUJBQWlCLFFBQVEsNkJBQTZCO0FBQy9ELFNBQVMsb0JBQW9CLFFBQVEsNkJBQTZCO0FBRWxFLGVBQWUsU0FBUyx5QkFBeUIsTUFBZTtFQUM1RCxNQUFNLE1BQU0sa0JBQWtCLEdBQUcsQ0FBTTtFQUV2QyxJQUFJLE9BQU8sS0FBSyx1QkFBdUIsWUFBWTtJQUMvQyxNQUFNLElBQUksTUFBTSxtREFBbUQ7TUFDL0QsT0FBTztJQUNYO0VBQ0o7RUFFQSxJQUFJLENBQUMsTUFBTSxPQUFPLENBQUMsU0FBUztJQUN4QixNQUFNLElBQUksTUFBTSxrQkFBa0I7TUFBRSxPQUFPO0lBQXFCO0VBQ3BFO0VBRUEsTUFBTSxDQUFDLFFBQVEsR0FBRztFQUVsQixPQUFPLElBQUksa0JBQWtCLENBQUMsU0FBUyxxQkFBcUIsc0JBQXNCLElBQUkscUJBQXFCLFNBQVMsSUFBSSxxQkFBcUIsT0FBTztBQUN4SiJ9