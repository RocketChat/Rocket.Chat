<template name="adminBotDetails">
	<section class="page-container page-home page-static page-settings">
		{{#header sectionName=pageTitle buttons=true}}
    <div class="rc-header__section-button">
      <button class="rc-button rc-button--cancel convert" disabled="{{not canConvert}}"><span>{{_ "Convert_account"}}</span></button>
      <button class="rc-button rc-button--cancel delete" disabled="{{not canDelete}}"><span>{{_ "Delete_account"}}</span></button>
      <button class="rc-button rc-button--primary save" disabled="{{not isChanged}}"><span>{{_ "Save_changes"}}</span></button>
    </div>
		{{/header}}

		<div class="content background-transparent-dark">
			<a href="{{pathFor "admin-bots"}}"><i class="icon-angle-left"></i> {{_ "Back_to_bots"}}</a><br><br>
			{{#unless hasPermission}}
				<p>{{_ "You_are_not_authorized_to_view_this_page"}}</p>
			{{else}}
				<div class="rocket-form">
					<div class="section">
						<div class="section-title">
							<div class="section-title-text">{{_ "Bot_Details"}} - {{getName}}</div>
							<div class="section-title-right">
								<button class="button primary collapse"><span>{{_ "Collapse"}}</span></button>
							</div>
						</div>
						<div class="section-content">
              <div class="input-line double-col">
                <label>{{_ "Account_name"}}</label>
                <div>
                  <input type="text" class="rc-input__element" name="name" value="{{getName}}" />
                  <div class="settings-description">{{_ "Bot_name_description"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Account_username"}}</label>
                <div>
                  <input type="text" class="rc-input__element" name="username" value="{{getUsername}}" />
                  <div class="settings-description">{{_ "Bot_username_description"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Account_password"}}</label>
                <div>
                  <input name="password" class="rc-input__element" type="password" autocomplete="off" value=""/>
                  <div class="settings-description">{{_ "Bot_password_description"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Bot_framework"}}</label>
                <div>
                  <input type="text" class="rc-input__element" disabled="true" name="framework" value="{{getFramework}}" />
                  <div class="settings-description">{{_ "Bot_framework_description"}}</div>
                </div>
              </div>
              {{#if getStack}}
              <div class="input-line double-col">
                <label>{{_ "Bot_client_stack"}}</label>
                <div>
                  {{#each getStack}}
                  <input type="text" class="rc-input__element" disabled="true" name="client" value="{{name}} {{version}}" />
                  {{/each}}
                  <div class="settings-description">{{_ "Bot_client_stack_description"}}</div>
                </div>
              </div>
              {{/if}}
              {{#if isOnline}}
                <div class="input-line double-col">
                  <label>{{_ "Connection_Status"}}</label>
                  <div>
                    <div class="settings-description">
                      {{_ "IP_Address"}}: {{ipAddress}}
                      <span class="rc-tooltip" aria-label="{{_ "Bot_IP_Address_description"}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                    </div>
                  </div>
                </div>
                <div class="input-line double-col">
                  <label>{{_ "Uptime"}}</label>
                  <div>
                    <div class="settings-description">
                      {{_ "Connected"}}: {{connectedUptime}}
                      <span class="rc-tooltip" aria-label="{{_ "Bot_Connected_Uptime_description"}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                    </div>
                  </div>
                </div>
              {{/if}}
              <div class="input-line double-col">
                <label>{{_ "Roles"}}</label>
                <div>
                  <ul id="roles" class="chip-container current-user-roles">
                    {{#each getRoles}}
                    <li class="remove-role" title="{{this}}"><i class="icon icon-cancel-circled"></i>{{this}}</li>
                    {{/each}}
                  </ul>
                  <div class="settings-description">{{_ "Bot_roles"}}</div>
                </div>
              </div>
              <div class="input-line double-col">
                <label>{{_ "Add_Role"}}</label>
                <div>
                  <select id="roleSelect" class="rc-input rc-form-item-inline rc-input--small" {{disabled availableRoles}}>
                    <option value="placeholder" disabled selected>{{_ "Select_role"}}</option>
                    {{#each availableRoles}}
                    <option value="{{_id}}">{{roleName}}</option>
                    {{/each}}
                  </select>
                  <button id="addRole" class="rc-button rc-button--primary rc-form-item-inline" {{disabled availableRoles}}>{{_ 'Add_Role'}}</button>
                </div>
              </div>
						</div>
					</div>
          <div class="section section-collapsed">
            <div class="section-title">
              <div class="section-title-text">{{_ "Bot_Statistics"}}</div>
              <div class="section-title-right">
                {{#unless statistics.server}}
                <button class="button primary refresh"><span>{{_ "Load"}}</span></button>
                {{else}}
                <button class="button primary refresh"><span>{{_ "Refresh"}}</span></button>
                {{/unless}}
                <button class="button primary expand"><span>{{_ "Expand"}}</span></button>
              </div>
            </div>
            <div class="section-content">
              {{#if statistics.server}}
                <h3>{{_ "Usage"}}</h3>
                <table class="statistics-table secondary-background-color">
                  <tr class="admin-table-row">
                    <th class="content-background-color border-component-color">
                      <span class="rc-tooltip" aria-label="{{_ "Bot_Stats_Total_Messages_description"}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                      {{_ "Stats_Total_Messages"}}
                    </th>
                    <td class="border-component-color">{{statistics.server.totalMessages}}</td>
                  </tr>
                  <tr class="admin-table-row">
                    <th class="content-background-color border-component-color">
                      <span class="rc-tooltip" aria-label="{{_ "Bot_Stats_Mention_Count_description"}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                      {{_ "Bot_Stats_Mention_Count"}}
                    </th>
                    <td class="border-component-color">{{statistics.server.mentionCount}}</td>
                  </tr>
                  <tr class="admin-table-row">
                    <th class="content-background-color border-component-color">
                      <span class="rc-tooltip" aria-label="{{_ "Bot_Stats_Room_Count_description"}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                      {{_ "Bot_Stats_Room_Count"}}
                    </th>
                    <td class="border-component-color">{{statistics.server.roomCount}}</td>
                  </tr>
                </table>
              {{/if}}
              {{#if statistics.sdk}}
                <h3>
                  {{_ "Session"}}
                  <span style="text-transform: none" class="rc-tooltip" aria-label="{{_ "Bot_Stats_Session_description"}}">
                    {{> icon block="rc-input__icon-svg" icon="info-circled" }}
                  </span>
                </h3>
                <table class="statistics-table secondary-background-color">
                  {{#each keyval statistics.sdk}}
                  <tr class="admin-table-row">
                    <th class="content-background-color border-component-color">
                      <span class="rc-tooltip" aria-label="{{_ description}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                      {{_ key}}
                    </th>
                    <td class="border-component-color">{{value}}</td>
                  </tr>
                  {{/each}}
                  {{#each keyval statistics.adapter}}
                    <tr class="admin-table-row">
                      <th class="content-background-color border-component-color">
                        <span class="rc-tooltip" aria-label="{{_ description}}">{{> icon block="rc-input__icon-svg" icon="info-circled" }}</span>
                        {{_ key}}
                      </th>
                      <td class="border-component-color">{{value}}</td>
                    </tr>
                  {{/each}}
                </table>
              {{/if}}
            </div>
          </div>
				</div>
			{{/unless}}
		</div>
	</section>
</template>
