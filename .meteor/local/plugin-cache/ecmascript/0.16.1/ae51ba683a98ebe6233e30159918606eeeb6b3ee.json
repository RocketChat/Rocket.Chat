{"metadata":{},"options":{"assumptions":{},"compact":false,"sourceMaps":true,"ast":true,"babelrc":false,"configFile":false,"parserOpts":{"sourceType":"module","sourceFileName":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/packages/templating-runtime/templating.js","plugins":["*","flow","jsx","asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{"proposal":"minimal"}],"throwExpressions","classProperties","classPrivateProperties","jsx","nullishCoalescingOperator","nullishCoalescingOperator","optionalChaining","optionalCatchBinding","optionalCatchBinding","classProperties","classPrivateProperties","classPrivateMethods","classProperties","classPrivateProperties","asyncGenerators","asyncGenerators","objectRestSpread","logicalAssignment"],"allowImportExportEverywhere":true,"allowReturnOutsideFunction":true,"allowUndeclaredExports":true,"strictMode":false},"caller":{"name":"meteor","arch":"web.browser.legacy"},"sourceFileName":"packages/templating-runtime/templating.js","filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/packages/templating-runtime/templating.js","targets":{"android":"95.0.0","chrome":"95.0.0","edge":"95.0.0","firefox":"78.0.0","ie":"10.0.0","ios":"15.0.0","opera":"81.0.0","safari":"15.1.0","samsung":"14.0.0"},"cloneInputAst":true,"browserslistConfigFile":false,"passPerPreset":false,"envName":"development","cwd":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","root":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat","rootMode":"root","plugins":[{"key":"base$0","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$0","visitor":{"Program":{"enter":[null],"exit":[null]},"_exploded":true,"_verified":true},"options":{"avoidModernSyntax":true,"enforceStrictMode":false,"dynamicImport":true}},{"key":"transform-runtime","visitor":{"MemberExpression":{"enter":[null]},"ObjectPattern":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":{},"_verified":{},"Identifier":{"enter":[null]},"JSXIdentifier":{"enter":[null]}},"options":{"version":"7.16.5","helpers":true,"useESModules":false,"corejs":false}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{"loose":true}},{"key":"base$0$3","visitor":{"FunctionExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"base$0$4","visitor":{"ForInStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-jsx","visitor":{"_exploded":{},"_verified":{},"JSXNamespacedName":{"enter":[null]},"JSXSpreadChild":{"enter":[null]},"Program":{"enter":[null]},"JSXElement":{"exit":[null]},"JSXFragment":{"exit":[null]},"JSXAttribute":{"enter":[null]}},"options":{"pragma":"React.createElement","pragmaFrag":"React.Fragment","runtime":"classic","throwIfNamespace":true,"useBuiltIns":false}},{"key":"transform-react-display-name","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-react-pure-annotations","visitor":{"CallExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"syntax-nullish-coalescing-operator","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-nullish-coalescing-operator","visitor":{"_exploded":{},"_verified":{},"LogicalExpression":{"enter":[null]}},"options":{}},{"key":"syntax-optional-chaining","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-chaining","visitor":{"_exploded":true,"OptionalCallExpression":{"enter":[null]},"OptionalMemberExpression":{"enter":[null]},"_verified":true},"options":{}},{"key":"syntax-optional-catch-binding","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-optional-catch-binding","visitor":{"_exploded":{},"_verified":{},"CatchClause":{"enter":[null]}},"options":{}},{"key":"syntax-class-properties","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-class-properties","visitor":{"PrivateName":{"enter":[null]},"ExportDefaultDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]}},"options":{}},{"key":"syntax-async-generators","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-async-generator-functions","visitor":{"_exploded":{},"_verified":{},"Program":{"enter":[null]}},"options":{}},{"key":"syntax-object-rest-spread","visitor":{"_exploded":true,"_verified":true},"options":{}},{"key":"proposal-object-rest-spread","visitor":{"VariableDeclarator":{"enter":[null]},"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"proposal-logical-assignment-operators","visitor":{"_exploded":{},"_verified":{},"AssignmentExpression":{"enter":[null]}},"options":{}},{"key":"transform-arrow-functions","visitor":{"ArrowFunctionExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoped-functions","visitor":{"BlockStatement":{"enter":[null]},"SwitchCase":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-block-scoping","visitor":{"VariableDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"_exploded":true,"BlockStatement":{"enter":[null]},"SwitchStatement":{"enter":[null]},"Program":{"enter":[null]},"_verified":true,"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-classes","visitor":{"ExportDefaultDeclaration":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ClassExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-computed-properties","visitor":{"ObjectExpression":{"exit":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-destructuring","visitor":{"ExportNamedDeclaration":{"enter":[null]},"CatchClause":{"enter":[null]},"AssignmentExpression":{"enter":[null]},"VariableDeclaration":{"enter":[null]},"_exploded":true,"_verified":true,"ForInStatement":{"enter":[null]},"ForOfStatement":{"enter":[null]}},"options":{}},{"key":"transform-for-of","visitor":{"ForOfStatement":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-literals","visitor":{"NumericLiteral":{"enter":[null]},"StringLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-object-super","visitor":{"ObjectExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-parameters","visitor":{"_exploded":true,"_verified":true,"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"ObjectMethod":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]}},"options":{}},{"key":"transform-shorthand-properties","visitor":{"ObjectMethod":{"enter":[null]},"ObjectProperty":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-spread","visitor":{"ArrayExpression":{"enter":[null]},"CallExpression":{"enter":[null]},"NewExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-sticky-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-template-literals","visitor":{"TaggedTemplateExpression":{"enter":[null]},"TemplateLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{"loose":true}},{"key":"transform-typeof-symbol","visitor":{"UnaryExpression":{"enter":[null]},"_exploded":true,"_verified":true,"BlockStatement":{"enter":[null]},"CatchClause":{"enter":[null]},"DoWhileStatement":{"enter":[null]},"ForInStatement":{"enter":[null]},"ForStatement":{"enter":[null]},"FunctionDeclaration":{"enter":[null]},"FunctionExpression":{"enter":[null]},"Program":{"enter":[null]},"ObjectMethod":{"enter":[null]},"SwitchStatement":{"enter":[null]},"WhileStatement":{"enter":[null]},"ArrowFunctionExpression":{"enter":[null]},"ClassExpression":{"enter":[null]},"ClassDeclaration":{"enter":[null]},"ForOfStatement":{"enter":[null]},"ClassMethod":{"enter":[null]},"ClassPrivateMethod":{"enter":[null]},"StaticBlock":{"enter":[null]},"TSModuleBlock":{"enter":[null]},"AssignmentPattern":{"enter":[null]},"ArrayPattern":{"enter":[null]},"ObjectPattern":{"enter":[null]}},"options":{}},{"key":"transform-unicode-regex","visitor":{"RegExpLiteral":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-property-literals","visitor":{"ObjectProperty":{"exit":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"transform-exponentiation-operator","visitor":{"AssignmentExpression":{"enter":[null]},"BinaryExpression":{"enter":[null]},"_exploded":true,"_verified":true},"options":{}},{"key":"regenerator-transform","visitor":{"_exploded":true,"_verified":true,"ObjectMethod":{"enter":[null],"exit":[null]},"ClassMethod":{"enter":[null],"exit":[null]},"ClassPrivateMethod":{"enter":[null],"exit":[null]},"FunctionDeclaration":{"exit":[null]},"FunctionExpression":{"exit":[null]},"ArrowFunctionExpression":{"exit":[null]}},"options":{}}],"presets":[],"generatorOpts":{"filename":"/Users/carlosrodrigues/Desktop/work/rocketchat/Rocket.Chat/packages/templating-runtime/templating.js","comments":true,"compact":false,"sourceMaps":true,"sourceFileName":"packages/templating-runtime/templating.js"}},"code":"// Packages and apps add templates on to this object.\n\n/**\n * @summary The class for defining templates\n * @class\n * @instanceName Template.myTemplate\n */\nTemplate = Blaze.Template;\nvar RESERVED_TEMPLATE_NAMES = \"__proto__ name\".split(\" \"); // Check for duplicate template names and illegal names that won't work.\n\nTemplate.__checkName = function (name) {\n  // Some names can't be used for Templates. These include:\n  //  - Properties Blaze sets on the Template object.\n  //  - Properties that some browsers don't let the code to set.\n  //    These are specified in RESERVED_TEMPLATE_NAMES.\n  if (name in Template || RESERVED_TEMPLATE_NAMES.includes(name)) {\n    if (Template[name] instanceof Template && name !== 'body') throw new Error(\"There are multiple templates named '\" + name + \"'. Each template needs a unique name.\");\n    throw new Error('This template name is reserved: ' + name);\n  }\n}; // XXX COMPAT WITH 0.8.3\n\n\nTemplate.__define__ = function (name, renderFunc) {\n  Template.__checkName(name);\n\n  Template[name] = new Template(\"Template.\" + name, renderFunc); // Exempt packages built pre-0.9.0 from warnings about using old\n  // helper syntax, because we can.  It's not very useful to get a\n  // warning about someone else's code (like a package on Atmosphere),\n  // and this should at least put a bit of a dent in number of warnings\n  // that come from packages that haven't been updated lately.\n\n  Template[name]._NOWARN_OLDSTYLE_HELPERS = true;\n}; // Define a template `Template.body` that renders its\n// `contentRenderFuncs`.  `<body>` tags (of which there may be\n// multiple) will have their contents added to it.\n\n/**\n * @summary The [template object](#Template-Declarations) representing your `<body>`\n * tag.\n * @locus Client\n */\n\n\nTemplate.body = new Template('body', function () {\n  var view = this;\n  return Template.body.contentRenderFuncs.map(function (func) {\n    return func.apply(view);\n  });\n});\nTemplate.body.contentRenderFuncs = []; // array of Blaze.Views\n\nTemplate.body.view = null;\n\nTemplate.body.addContent = function (renderFunc) {\n  Template.body.contentRenderFuncs.push(renderFunc);\n}; // This function does not use `this` and so it may be called\n// as `Meteor.startup(Template.body.renderIntoDocument)`.\n\n\nTemplate.body.renderToDocument = function () {\n  // Only do it once.\n  if (Template.body.view) return;\n  var view = Blaze.render(Template.body, document.body);\n  Template.body.view = view;\n};\n\nTemplate.__pendingReplacement = [];\nvar updateTimeout = null; // Simple HMR integration to re-render all of the root views\n// when a template is modified. This function can be overridden to provide\n// an alternative method of applying changes from HMR.\n\nTemplate._applyHmrChanges = function (templateName) {\n  if (updateTimeout) {\n    return;\n  } // debounce so we only re-render once per rebuild\n\n\n  updateTimeout = setTimeout(function () {\n    updateTimeout = null;\n\n    for (var i = 0; i < Template.__pendingReplacement.length; i++) {\n      delete Template[Template.__pendingReplacement[i]];\n    }\n\n    Template.__pendingReplacement = [];\n\n    var views = Blaze.__rootViews.slice();\n\n    for (var i = 0; i < views.length; i++) {\n      var view = views[i];\n\n      if (view.destroyed) {\n        continue;\n      }\n\n      var renderFunc = view._render;\n      var parentEl;\n\n      if (view._domrange && view._domrange.parentElement) {\n        parentEl = view._domrange.parentElement;\n      } else if (view._hmrParent) {\n        parentEl = view._hmrParent;\n      }\n\n      var comment;\n\n      if (view._hmrAfter) {\n        comment = view._hmrAfter;\n      } else {\n        var first = view._domrange.firstNode();\n\n        comment = document.createComment('Blaze HMR PLaceholder');\n        parentEl.insertBefore(comment, first);\n      }\n\n      view._hmrAfter = null;\n      view._hmrParent = null;\n\n      if (view._domrange) {\n        Blaze.remove(view);\n      }\n\n      try {\n        if (view === Template.body.view) {\n          var newView = Blaze.render(Template.body, document.body, comment);\n          Template.body.view = newView;\n        } else if (view.dataVar) {\n          Blaze.renderWithData(renderFunc, view.dataVar.curValue, parentEl, comment);\n        } else {\n          Blaze.render(renderFunc, parentEl, comment);\n        }\n\n        parentEl.removeChild(comment);\n      } catch (e) {\n        console.log('[Blaze HMR] Error re-rending template:');\n        console.error(e); // Record where the view should have been so we can still render it\n        // during the next update\n\n        var newestRoot = Blaze.__rootViews[Blaze.__rootViews.length - 1];\n\n        if (newestRoot && newestRoot.isCreated && !newestRoot.isRendered) {\n          newestRoot._hmrAfter = comment;\n          newestRoot._hmrParent = parentEl;\n        }\n      }\n    }\n  });\n};\n\nTemplate._migrateTemplate = function (templateName, newTemplate, migrate) {\n  var oldTemplate = Template[templateName];\n  var migrate = Template.__pendingReplacement.indexOf(templateName) > -1;\n\n  if (oldTemplate && migrate) {\n    newTemplate.__helpers = oldTemplate.__helpers;\n    newTemplate.__eventMaps = oldTemplate.__eventMaps;\n    newTemplate._callbacks.created = oldTemplate._callbacks.created;\n    newTemplate._callbacks.rendered = oldTemplate._callbacks.rendered;\n    newTemplate._callbacks.destroyed = oldTemplate._callbacks.destroyed;\n    delete Template[templateName];\n\n    Template._applyHmrChanges(templateName);\n  }\n\n  if (migrate) {\n    Template.__pendingReplacement.splice(Template.__pendingReplacement.indexOf(templateName), 1);\n  }\n\n  Template.__checkName(templateName);\n\n  Template[templateName] = newTemplate;\n}; // XXX COMPAT WITH 0.9.0\n\n\nUI.body = Template.body; // XXX COMPAT WITH 0.9.0\n// (<body> tags in packages built with 0.9.0)\n\nTemplate.__body__ = Template.body;\nTemplate.__body__.__contentParts = Template.body.contentViews;\nTemplate.__body__.__instantiate = Template.body.renderToDocument;","map":{"version":3,"sources":["packages/templating-runtime/templating.js"],"names":["Template","Blaze","RESERVED_TEMPLATE_NAMES","split","__checkName","name","includes","Error","__define__","renderFunc","_NOWARN_OLDSTYLE_HELPERS","body","view","contentRenderFuncs","map","func","apply","addContent","push","renderToDocument","render","document","__pendingReplacement","updateTimeout","_applyHmrChanges","templateName","setTimeout","i","length","views","__rootViews","slice","destroyed","_render","parentEl","_domrange","parentElement","_hmrParent","comment","_hmrAfter","first","firstNode","createComment","insertBefore","remove","newView","dataVar","renderWithData","curValue","removeChild","e","console","log","error","newestRoot","isCreated","isRendered","_migrateTemplate","newTemplate","migrate","oldTemplate","indexOf","__helpers","__eventMaps","_callbacks","created","rendered","splice","UI","__body__","__contentParts","contentViews","__instantiate"],"mappings":"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","sourcesContent":["// Packages and apps add templates on to this object.\n\n/**\n * @summary The class for defining templates\n * @class\n * @instanceName Template.myTemplate\n */\nTemplate = Blaze.Template;\n\nvar RESERVED_TEMPLATE_NAMES = \"__proto__ name\".split(\" \");\n\n// Check for duplicate template names and illegal names that won't work.\nTemplate.__checkName = function (name) {\n  // Some names can't be used for Templates. These include:\n  //  - Properties Blaze sets on the Template object.\n  //  - Properties that some browsers don't let the code to set.\n  //    These are specified in RESERVED_TEMPLATE_NAMES.\n  if (name in Template || RESERVED_TEMPLATE_NAMES.includes(name)) {\n    if (Template[name] instanceof Template && name !== 'body')\n      throw new Error(\n        \"There are multiple templates named '\" +\n          name +\n          \"'. Each template needs a unique name.\"\n      );\n    throw new Error('This template name is reserved: ' + name);\n  }\n};\n\n// XXX COMPAT WITH 0.8.3\nTemplate.__define__ = function (name, renderFunc) {\n  Template.__checkName(name);\n  Template[name] = new Template(\"Template.\" + name, renderFunc);\n  // Exempt packages built pre-0.9.0 from warnings about using old\n  // helper syntax, because we can.  It's not very useful to get a\n  // warning about someone else's code (like a package on Atmosphere),\n  // and this should at least put a bit of a dent in number of warnings\n  // that come from packages that haven't been updated lately.\n  Template[name]._NOWARN_OLDSTYLE_HELPERS = true;\n};\n\n// Define a template `Template.body` that renders its\n// `contentRenderFuncs`.  `<body>` tags (of which there may be\n// multiple) will have their contents added to it.\n\n/**\n * @summary The [template object](#Template-Declarations) representing your `<body>`\n * tag.\n * @locus Client\n */\nTemplate.body = new Template('body', function () {\n  var view = this;\n  return Template.body.contentRenderFuncs.map(function (func) {\n    return func.apply(view);\n  });\n});\nTemplate.body.contentRenderFuncs = []; // array of Blaze.Views\nTemplate.body.view = null;\n\nTemplate.body.addContent = function (renderFunc) {\n  Template.body.contentRenderFuncs.push(renderFunc);\n};\n\n// This function does not use `this` and so it may be called\n// as `Meteor.startup(Template.body.renderIntoDocument)`.\nTemplate.body.renderToDocument = function () {\n  // Only do it once.\n  if (Template.body.view)\n    return;\n\n  var view = Blaze.render(Template.body, document.body);\n  Template.body.view = view;\n};\n\nTemplate.__pendingReplacement = []\n\nvar updateTimeout = null;\n\n// Simple HMR integration to re-render all of the root views\n// when a template is modified. This function can be overridden to provide\n// an alternative method of applying changes from HMR.\nTemplate._applyHmrChanges = function (templateName) {\n  if (updateTimeout) {\n    return;\n  }\n\n  // debounce so we only re-render once per rebuild\n  updateTimeout = setTimeout(function () {\n    updateTimeout = null;\n\n    for (var i = 0; i < Template.__pendingReplacement.length; i++) {\n      delete Template[Template.__pendingReplacement[i]];\n    }\n\n    Template.__pendingReplacement = [];\n\n    var views = Blaze.__rootViews.slice();\n    for (var i = 0; i < views.length; i++) {\n      var view = views[i];\n      if (view.destroyed) {\n        continue;\n      }\n\n      var renderFunc = view._render;\n      var parentEl;\n      if (view._domrange && view._domrange.parentElement) {\n        parentEl = view._domrange.parentElement;\n      } else if (view._hmrParent) {\n        parentEl = view._hmrParent;\n      }\n\n      var comment;\n      if (view._hmrAfter) {\n        comment = view._hmrAfter;\n      } else {\n        var first = view._domrange.firstNode();\n        comment = document.createComment('Blaze HMR PLaceholder');\n        parentEl.insertBefore(comment, first);\n      }\n\n      view._hmrAfter = null;\n      view._hmrParent = null;\n\n      if (view._domrange) {\n        Blaze.remove(view);\n      }\n\n      try {\n        if (view === Template.body.view) {\n          var newView = Blaze.render(Template.body, document.body, comment);\n          Template.body.view = newView;\n        } else if (view.dataVar) {\n          Blaze.renderWithData(renderFunc, view.dataVar.curValue, parentEl, comment);\n        } else {\n          Blaze.render(renderFunc, parentEl, comment);\n        }\n\n        parentEl.removeChild(comment);\n      } catch (e) {\n        console.log('[Blaze HMR] Error re-rending template:');\n        console.error(e);\n\n        // Record where the view should have been so we can still render it\n        // during the next update\n        var newestRoot = Blaze.__rootViews[Blaze.__rootViews.length - 1];\n        if (newestRoot && newestRoot.isCreated && !newestRoot.isRendered) {\n          newestRoot._hmrAfter = comment;\n          newestRoot._hmrParent = parentEl;\n        }\n      }\n    }\n  });\n};\n\nTemplate._migrateTemplate = function (templateName, newTemplate, migrate) {\n  var oldTemplate = Template[templateName];\n  var migrate = Template.__pendingReplacement.indexOf(templateName) > -1\n\n  if (oldTemplate && migrate) {\n    newTemplate.__helpers = oldTemplate.__helpers;\n    newTemplate.__eventMaps = oldTemplate.__eventMaps;\n    newTemplate._callbacks.created = oldTemplate._callbacks.created;\n    newTemplate._callbacks.rendered = oldTemplate._callbacks.rendered;\n    newTemplate._callbacks.destroyed = oldTemplate._callbacks.destroyed;\n    delete Template[templateName];\n    Template._applyHmrChanges(templateName);\n  }\n\n  if (migrate) {\n    Template.__pendingReplacement.splice(\n      Template.__pendingReplacement.indexOf(templateName),\n      1\n    )\n  }\n\n  Template.__checkName(templateName);\n  Template[templateName] = newTemplate;\n};\n\n// XXX COMPAT WITH 0.9.0\nUI.body = Template.body;\n\n// XXX COMPAT WITH 0.9.0\n// (<body> tags in packages built with 0.9.0)\nTemplate.__body__ = Template.body;\nTemplate.__body__.__contentParts = Template.body.contentViews;\nTemplate.__body__.__instantiate = Template.body.renderToDocument;\n"]},"sourceType":"module","hash":"ae51ba683a98ebe6233e30159918606eeeb6b3ee"}
