[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar meteorInstall = Package.modules.meteorInstall;\n\n/* Package-scope variables */\nvar Promise;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"promise\":{\"modern.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n// packages/promise/modern.js                                              //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n                                                                           //\n// Initialize the package-scoped Promise variable with global.Promise in\n// all environments, even if it's not defined.\nPromise = global.Promise;\n\n/////////////////////////////////////////////////////////////////////////////\n\n},\"client.js\":function module(require){\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n// packages/promise/client.js                                              //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n                                                                           //\nrequire(\"./extensions.js\");\nrequire(\"meteor-promise\").makeCompatible(Promise);\n\n/////////////////////////////////////////////////////////////////////////////\n\n},\"extensions.js\":function module(){\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n// packages/promise/extensions.js                                          //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n                                                                           //\nvar proto = Promise.prototype;\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nproto.done = function (onFulfilled, onRejected) {\n  var self = this;\n\n  if (arguments.length > 0) {\n    self = this.then.apply(this, arguments);\n  }\n\n  self.then(null, function (err) {\n    Meteor._setImmediate(function () {\n      throw err;\n    });\n  });\n};\n\nif (! hasOwn.call(proto, \"finally\")) {\n  proto[\"finally\"] = function (onFinally) {\n    var threw = false, result;\n    return this.then(function (value) {\n      result = value;\n      // Most implementations of Promise.prototype.finally call\n      // Promise.resolve(onFinally()) (or this.constructor.resolve or even\n      // this.constructor[Symbol.species].resolve, depending on how spec\n      // compliant they're trying to be), but this implementation simply\n      // relies on the standard Promise behavior of resolving any value\n      // returned from a .then callback function.\n      return onFinally();\n    }, function (error) {\n      // Make the final .then callback (below) re-throw the error instead\n      // of returning it.\n      threw = true;\n      result = error;\n      return onFinally();\n    }).then(function () {\n      if (threw) throw result;\n      return result;\n    });\n  };\n}\n\n/////////////////////////////////////////////////////////////////////////////\n\n},\"node_modules\":{\"meteor-promise\":{\"package.json\":function module(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n// node_modules/meteor/promise/node_modules/meteor-promise/package.json    //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n                                                                           //\nmodule.exports = {\n  \"name\": \"meteor-promise\",\n  \"version\": \"0.9.0\",\n  \"browser\": \"promise_client.js\",\n  \"main\": \"promise_server.js\"\n};\n\n/////////////////////////////////////////////////////////////////////////////\n\n},\"promise_client.js\":function module(require,exports){\n\n/////////////////////////////////////////////////////////////////////////////\n//                                                                         //\n// node_modules/meteor/promise/node_modules/meteor-promise/promise_client. //\n//                                                                         //\n/////////////////////////////////////////////////////////////////////////////\n                                                                           //\nexports.makeCompatible = function (Promise) {\n  var es6PromiseThen = Promise.prototype.then;\n\n  Promise.prototype.then = function (onResolved, onRejected) {\n    if (typeof Meteor === \"object\" &&\n        typeof Meteor.bindEnvironment === \"function\") {\n      return es6PromiseThen.call(\n        this,\n        onResolved && Meteor.bindEnvironment(onResolved, raise),\n        onRejected && Meteor.bindEnvironment(onRejected, raise)\n      );\n    }\n\n    return es6PromiseThen.call(this, onResolved, onRejected);\n  };\n};\n\nfunction raise(exception) {\n  throw exception;\n}\n\n/////////////////////////////////////////////////////////////////////////////\n\n}}}}}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\"\n  ]\n});\n\nrequire(\"/node_modules/meteor/promise/modern.js\");\nvar exports = require(\"/node_modules/meteor/promise/client.js\");\n\n/* Exports */\nPackage._define(\"promise\", exports, {\n  Promise: Promise\n});\n\n})();\n","servePath":"/packages/promise.js"}]