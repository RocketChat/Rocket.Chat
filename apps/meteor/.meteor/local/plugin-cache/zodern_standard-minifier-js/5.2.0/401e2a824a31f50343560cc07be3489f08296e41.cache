{"code":"function module(e,l,a){let s,i,d;a.link(\"@rocket.chat/core-typings\",{isVoipMessage(e){s=e}},0),a.link(\"moment\",{default(e){i=e}},1),a.link(\"../../ui-utils/client\",{MessageTypes(e){d=e}},2);let t=[{id:\"voip-call-started\",system:!0,message:\"Voip_call_started\"},{id:\"voip-call-duration\",system:!0,message:\"Voip_call_duration\",data(e){if(!s(e))return{duration:\"\"};let l=(e.voipData.callDuration||0)/1e3,a=i.duration(l,\"seconds\").humanize();return{duration:a}}},{id:\"voip-call-declined\",system:!0,message:\"Voip_call_declined\"},{id:\"voip-call-on-hold\",system:!0,message:\"Voip_call_on_hold\"},{id:\"voip-call-unhold\",system:!0,message:\"Voip_call_unhold\"},{id:\"voip-call-ended\",system:!0,message:\"Voip_call_ended\"},{id:\"voip-call-ended-unexpectedly\",system:!0,message:\"Voip_call_ended_unexpectedly\",data:e=>({reason:e.msg})},{id:\"voip-call-wrapup\",system:!0,message:\"Voip_call_wrapup\",data:e=>({comment:e.msg})}];t.map(e=>d.registerType(e))}","map":"{\"version\":3,\"sources\":[\"app/livechat/client/voip.ts\",\"<anon>\"],\"sourcesContent\":[\"import type { IMessage } from '@rocket.chat/core-typings';\\nimport { isVoipMessage } from '@rocket.chat/core-typings';\\nimport moment from 'moment';\\n\\nimport type { MessageType } from '../../ui-utils/client';\\nimport { MessageTypes } from '../../ui-utils/client';\\n\\ntype IMessageFuncReturn = { comment: string } | { duration: string } | { reason: string };\\n\\nconst messageTypes: MessageType[] = [\\n\\t{\\n\\t\\tid: 'voip-call-started',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_started',\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-duration',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_duration',\\n\\t\\tdata(message: IMessage): IMessageFuncReturn {\\n\\t\\t\\tif (!isVoipMessage(message)) {\\n\\t\\t\\t\\treturn { duration: '' };\\n\\t\\t\\t}\\n\\t\\t\\tconst seconds = (message.voipData.callDuration || 0) / 1000;\\n\\t\\t\\tconst duration = moment.duration(seconds, 'seconds').humanize();\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tduration,\\n\\t\\t\\t};\\n\\t\\t},\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-declined',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_declined',\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-on-hold',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_on_hold',\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-unhold',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_unhold',\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-ended',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_ended',\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-ended-unexpectedly',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_ended_unexpectedly',\\n\\t\\tdata(message: IMessage): IMessageFuncReturn {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\treason: message.msg,\\n\\t\\t\\t};\\n\\t\\t},\\n\\t},\\n\\t{\\n\\t\\tid: 'voip-call-wrapup',\\n\\t\\tsystem: true,\\n\\t\\tmessage: 'Voip_call_wrapup',\\n\\t\\tdata(message: IMessage): IMessageFuncReturn {\\n\\t\\t\\treturn {\\n\\t\\t\\t\\tcomment: message.msg,\\n\\t\\t\\t};\\n\\t\\t},\\n\\t},\\n];\\n\\nmessageTypes.map((e) => MessageTypes.registerType(e));\\n\",null],\"names\":[\"isVoipMessage\",\"moment\",\"MessageTypes\",\"module\",\"link\",\"v\",\"default\",\"messageTypes\",\"id\",\"system\",\"message\",\"data\",\"duration\",\"seconds\",\"voipData\",\"callDuration\",\"humanize\",\"reason\",\"msg\",\"comment\",\"map\",\"e\",\"registerType\"],\"mappings\":\"2BACAA,EAA0DC,EAAAC,EAAjDC,EAAeC,IAAA,CAAM,4BAA4B,CAAAJ,cAAAK,CAAA,EAAAL,EAAAK,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,SAAA,CAAAE,QAAAD,CAAA,EAAAJ,EAAAI,CAAA,CAAA,EAAA,GAAAF,EAAAC,IAAA,CAAA,wBAAA,CAAAF,aAAAG,CAAA,EAAAH,EAAAG,CAAA,CAAA,EAAA,GAQ1D,IAAME,EAA8B,CACnC,CACCC,GAAI,oBACJC,OAAQ,CAAA,EACRC,QAAS,qBAEV,CACCF,GAAI,qBACJC,OAAQ,CAAA,EACRC,QAAS,qBACTC,KAAKD,CAAiB,EACrB,GAAI,CAACV,EAAcU,GAClB,MAAO,CAAEE,SAAU,EAAE,EAEtB,IAAMC,EAAU,AAACH,CAAAA,EAAQI,QAAQ,CAACC,YAAY,EAAI,CAAA,EAAK,IACjDH,EAAWX,EAAOW,QAAQ,CAACC,EAAS,WAAWG,QAAQ,GAC7D,MAAO,CACNJ,SAAAA,EAEF,GAED,CACCJ,GAAI,qBACJC,OAAQ,CAAA,EACRC,QAAS,sBAEV,CACCF,GAAI,oBACJC,OAAQ,CAAA,EACRC,QAAS,qBAEV,CACCF,GAAI,mBACJC,OAAQ,CAAA,EACRC,QAAS,oBAEV,CACCF,GAAI,kBACJC,OAAQ,CAAA,EACRC,QAAS,mBAEV,CACCF,GAAI,+BACJC,OAAQ,CAAA,EACRC,QAAS,+BACTC,KAAAA,AAAKD,GACG,CAAA,CACNO,OAAQP,EAAQQ,GAAAA,IAInB,CACCV,GAAI,mBACJC,OAAQ,CAAA,EACRC,QAAS,mBACTC,KAAAA,AAAKD,GACG,CAAA,CACNS,QAAST,EAAQQ,GAAAA,IAIpB,CAEDX,EAAaa,GAAG,CAAEC,GAAMnB,EAAaoB,YAAY,CAACD\"}"}