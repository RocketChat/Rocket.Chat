{"code":"function module(t,r,n){\"use strict\";n.exports=o;var e=t(\"./_stream_duplex\"),i=Object.create(t(\"core-util-is\"));function a(t,r){var n=this._transformState;n.transforming=!1;var e=n.writecb;if(!e)return this.emit(\"error\",Error(\"write callback called multiple times\"));n.writechunk=null,n.writecb=null,null!=r&&this.push(r),e(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);e.call(this,t),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(\"function\"==typeof t.transform&&(this._transform=t.transform),\"function\"==typeof t.flush&&(this._flush=t.flush)),this.on(\"prefinish\",s)}function s(){var t=this;\"function\"==typeof this._flush?this._flush(function(r,n){h(t,r,n)}):h(this,null,null)}function h(t,r,n){if(r)return t.emit(\"error\",r);if(null!=n&&t.push(n),t._writableState.length)throw Error(\"Calling transform done when ws.length != 0\");if(t._transformState.transforming)throw Error(\"Calling transform done when still transforming\");return t.push(null)}i.inherits=t(\"inherits\"),i.inherits(o,e),o.prototype.push=function(t,r){return this._transformState.needTransform=!1,e.prototype.push.call(this,t,r)},o.prototype._transform=function(t,r,n){throw Error(\"_transform() is not implemented\")},o.prototype._write=function(t,r,n){var e=this._transformState;if(e.writecb=n,e.writechunk=t,e.writeencoding=r,!e.transforming){var i=this._readableState;(e.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var r=this._transformState;null!==r.writechunk&&r.writecb&&!r.transforming?(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform)):r.needTransform=!0},o.prototype._destroy=function(t,r){var n=this;e.prototype._destroy.call(this,t,function(t){r(t),n.emit(\"close\")})}}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}