{"code":"function module(t,e,u){\"use strict\";let o=t(\"./constants\"),p=t(\"./utils\"),{MAX_LENGTH:n,POSIX_REGEX_SOURCE:a,REGEX_NON_SPECIAL_CHARS:r,REGEX_SPECIAL_CHARS_BACKREF:s,REPLACEMENTS:l}=o,i=(t,e)=>{if(\"function\"==typeof e.expandRange)return e.expandRange(...t,e);t.sort();let u=`[${t.join(\"-\")}]`;try{new RegExp(u)}catch(e){return t.map(t=>p.escapeRegex(t)).join(\"..\")}return u},c=(t,e)=>`Missing ${t}: \"${e}\" - use \"\\\\\\\\${e}\" to match literal characters`,f=(t,e)=>{let u;if(\"string\"!=typeof t)throw TypeError(\"Expected a string\");t=l[t]||t;let y={...e},g=\"number\"==typeof y.maxLength?Math.min(n,y.maxLength):n,h=t.length;if(h>g)throw SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${g}`);let b={type:\"bos\",value:\"\",output:y.prepend||\"\"},x=[b],$=y.capture?\"\":\"?:\",d=p.isWindows(e),v=o.globChars(d),k=o.extglobChars(v),{DOT_LITERAL:m,PLUS_LITERAL:w,SLASH_LITERAL:E,ONE_CHAR:S,DOTS_SLASH:q,NO_DOT:B,NO_DOT_SLASH:L,NO_DOTS_SLASH:I,QMARK:R,QMARK_NO_DOT:C,STAR:j,START_ANCHOR:M}=v,O=t=>`(${$}(?:(?!${M}${t.dot?q:m}).)*?)`,P=y.dot?\"\":B,W=y.dot?R:C,N=!0===y.bash?O(y):j;y.capture&&(N=`(${N})`),\"boolean\"==typeof y.noext&&(y.noextglob=y.noext);let Q={input:t,index:-1,start:0,dot:!0===y.dot,consumed:\"\",output:\"\",prefix:\"\",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:x};h=(t=p.removePrefix(t,Q)).length;let T=[],_=[],z=[],A=b,D=()=>Q.index===h-1,F=Q.peek=(e=1)=>t[Q.index+e],G=Q.advance=()=>t[++Q.index]||\"\",H=()=>t.slice(Q.index+1),J=(t=\"\",e=0)=>{Q.consumed+=t,Q.index+=e},K=t=>{Q.output+=null!=t.output?t.output:t.value,J(t.value)},U=()=>{let t=1;for(;\"!\"===F()&&(\"(\"!==F(2)||\"?\"===F(3));)G(),Q.start++,t++;return t%2!=0&&(Q.negated=!0,Q.start++,!0)},V=t=>{Q[t]++,z.push(t)},X=t=>{Q[t]--,z.pop()},Y=t=>{if(\"globstar\"===A.type){let e=Q.braces>0&&(\"comma\"===t.type||\"brace\"===t.type),u=!0===t.extglob||T.length&&(\"pipe\"===t.type||\"paren\"===t.type);\"slash\"===t.type||\"paren\"===t.type||e||u||(Q.output=Q.output.slice(0,-A.output.length),A.type=\"star\",A.value=\"*\",A.output=N,Q.output+=A.output)}if(T.length&&\"paren\"!==t.type&&(T[T.length-1].inner+=t.value),(t.value||t.output)&&K(t),A&&\"text\"===A.type&&\"text\"===t.type){A.value+=t.value,A.output=(A.output||\"\")+t.value;return}t.prev=A,x.push(t),A=t},Z=(t,e)=>{let u={...k[e],conditions:1,inner:\"\"};u.prev=A,u.parens=Q.parens,u.output=Q.output;let o=(y.capture?\"(\":\"\")+u.open;V(\"parens\"),Y({type:t,value:e,output:Q.output?\"\":S}),Y({type:\"paren\",extglob:!0,value:G(),output:o}),T.push(u)},tt=t=>{let o,p=t.close+(y.capture?\")\":\"\");if(\"negate\"===t.type){let u=N;if(t.inner&&t.inner.length>1&&t.inner.includes(\"/\")&&(u=O(y)),(u!==N||D()||/^\\)+$/.test(H()))&&(p=t.close=`)$))${u}`),t.inner.includes(\"*\")&&(o=H())&&/^\\.[^\\\\/.]+$/.test(o)){let n=f(o,{...e,fastpaths:!1}).output;p=t.close=`)${n})${u})`}\"bos\"===t.prev.type&&(Q.negatedExtglob=!0)}Y({type:\"paren\",extglob:!0,value:u,output:p}),X(\"parens\")};if(!1!==y.fastpaths&&!/(^[*!]|[/()[\\]{}\"])/.test(t)){let u=!1,o=t.replace(s,(t,e,o,p,n,a)=>\"\\\\\"===p?(u=!0,t):\"?\"===p?e?e+p+(n?R.repeat(n.length):\"\"):0===a?W+(n?R.repeat(n.length):\"\"):R.repeat(o.length):\".\"===p?m.repeat(o.length):\"*\"===p?e?e+p+(n?N:\"\"):N:e?t:`\\\\${t}`);return(!0===u&&(o=!0===y.unescape?o.replace(/\\\\/g,\"\"):o.replace(/\\\\+/g,t=>t.length%2==0?\"\\\\\\\\\":t?\"\\\\\":\"\")),o===t&&!0===y.contains)?Q.output=t:Q.output=p.wrapOutput(o,Q,e),Q}for(;!D();){if(\"\\x00\"===(u=G()))continue;if(\"\\\\\"===u){let t=F();if(\"/\"===t&&!0!==y.bash||\".\"===t||\";\"===t)continue;if(!t){Y({type:\"text\",value:u+=\"\\\\\"});continue}let e=/^\\\\+/.exec(H()),o=0;if(e&&e[0].length>2&&(o=e[0].length,Q.index+=o,o%2!=0&&(u+=\"\\\\\")),!0===y.unescape?u=G():u+=G(),0===Q.brackets){Y({type:\"text\",value:u});continue}}if(Q.brackets>0&&(\"]\"!==u||\"[\"===A.value||\"[^\"===A.value)){if(!1!==y.posix&&\":\"===u){let t=A.value.slice(1);if(t.includes(\"[\")&&(A.posix=!0,t.includes(\":\"))){let t=A.value.lastIndexOf(\"[\"),e=A.value.slice(0,t),u=A.value.slice(t+2),o=a[u];if(o){A.value=e+o,Q.backtrack=!0,G(),b.output||1!==x.indexOf(A)||(b.output=S);continue}}}(\"[\"===u&&\":\"!==F()||\"-\"===u&&\"]\"===F())&&(u=`\\\\${u}`),\"]\"===u&&(\"[\"===A.value||\"[^\"===A.value)&&(u=`\\\\${u}`),!0===y.posix&&\"!\"===u&&\"[\"===A.value&&(u=\"^\"),A.value+=u,K({value:u});continue}if(1===Q.quotes&&'\"'!==u){u=p.escapeRegex(u),A.value+=u,K({value:u});continue}if('\"'===u){Q.quotes=1===Q.quotes?0:1,!0===y.keepQuotes&&Y({type:\"text\",value:u});continue}if(\"(\"===u){V(\"parens\"),Y({type:\"paren\",value:u});continue}if(\")\"===u){if(0===Q.parens&&!0===y.strictBrackets)throw SyntaxError(c(\"opening\",\"(\"));let t=T[T.length-1];if(t&&Q.parens===t.parens+1){tt(T.pop());continue}Y({type:\"paren\",value:u,output:Q.parens?\")\":\"\\\\)\"}),X(\"parens\");continue}if(\"[\"===u){if(!0!==y.nobracket&&H().includes(\"]\"))V(\"brackets\");else{if(!0!==y.nobracket&&!0===y.strictBrackets)throw SyntaxError(c(\"closing\",\"]\"));u=`\\\\${u}`}Y({type:\"bracket\",value:u});continue}if(\"]\"===u){if(!0===y.nobracket||A&&\"bracket\"===A.type&&1===A.value.length){Y({type:\"text\",value:u,output:`\\\\${u}`});continue}if(0===Q.brackets){if(!0===y.strictBrackets)throw SyntaxError(c(\"opening\",\"[\"));Y({type:\"text\",value:u,output:`\\\\${u}`});continue}X(\"brackets\");let t=A.value.slice(1);if(!0===A.posix||\"^\"!==t[0]||t.includes(\"/\")||(u=`/${u}`),A.value+=u,K({value:u}),!1===y.literalBrackets||p.hasRegexChars(t))continue;let e=p.escapeRegex(A.value);if(Q.output=Q.output.slice(0,-A.value.length),!0===y.literalBrackets){Q.output+=e,A.value=e;continue}A.value=`(${$}${e}|${A.value})`,Q.output+=A.value;continue}if(\"{\"===u&&!0!==y.nobrace){V(\"braces\");let t={type:\"brace\",value:u,output:\"(\",outputIndex:Q.output.length,tokensIndex:Q.tokens.length};_.push(t),Y(t);continue}if(\"}\"===u){let t=_[_.length-1];if(!0===y.nobrace||!t){Y({type:\"text\",value:u,output:u});continue}let e=\")\";if(!0===t.dots){let t=x.slice(),u=[];for(let e=t.length-1;e>=0&&(x.pop(),\"brace\"!==t[e].type);e--)\"dots\"!==t[e].type&&u.unshift(t[e].value);e=i(u,y),Q.backtrack=!0}if(!0!==t.comma&&!0!==t.dots){let o=Q.output.slice(0,t.outputIndex),p=Q.tokens.slice(t.tokensIndex);for(let n of(t.value=t.output=\"\\\\{\",u=e=\"\\\\}\",Q.output=o,p))Q.output+=n.output||n.value}Y({type:\"brace\",value:u,output:e}),X(\"braces\"),_.pop();continue}if(\"|\"===u){T.length>0&&T[T.length-1].conditions++,Y({type:\"text\",value:u});continue}if(\",\"===u){let t=u,e=_[_.length-1];e&&\"braces\"===z[z.length-1]&&(e.comma=!0,t=\"|\"),Y({type:\"comma\",value:u,output:t});continue}if(\"/\"===u){if(\"dot\"===A.type&&Q.index===Q.start+1){Q.start=Q.index+1,Q.consumed=\"\",Q.output=\"\",x.pop(),A=b;continue}Y({type:\"slash\",value:u,output:E});continue}if(\".\"===u){if(Q.braces>0&&\"dot\"===A.type){\".\"===A.value&&(A.output=m);let t=_[_.length-1];A.type=\"dots\",A.output+=u,A.value+=u,t.dots=!0;continue}if(Q.braces+Q.parens===0&&\"bos\"!==A.type&&\"slash\"!==A.type){Y({type:\"text\",value:u,output:m});continue}Y({type:\"dot\",value:u,output:m});continue}if(\"?\"===u){let t=A&&\"(\"===A.value;if(!t&&!0!==y.noextglob&&\"(\"===F()&&\"?\"!==F(2)){Z(\"qmark\",u);continue}if(A&&\"paren\"===A.type){let t=F(),e=u;if(\"<\"===t&&!p.supportsLookbehinds())throw Error(\"Node.js v10 or higher is required for regex lookbehinds\");(\"(\"!==A.value||/[!=<:]/.test(t))&&(\"<\"!==t||/<([!=]|\\w+>)/.test(H()))||(e=`\\\\${u}`),Y({type:\"text\",value:u,output:e});continue}if(!0!==y.dot&&(\"slash\"===A.type||\"bos\"===A.type)){Y({type:\"qmark\",value:u,output:C});continue}Y({type:\"qmark\",value:u,output:R});continue}if(\"!\"===u){if(!0!==y.noextglob&&\"(\"===F()&&(\"?\"!==F(2)||!/[!=<:]/.test(F(3)))){Z(\"negate\",u);continue}if(!0!==y.nonegate&&0===Q.index){U();continue}}if(\"+\"===u){if(!0!==y.noextglob&&\"(\"===F()&&\"?\"!==F(2)){Z(\"plus\",u);continue}if(A&&\"(\"===A.value||!1===y.regex){Y({type:\"plus\",value:u,output:w});continue}if(A&&(\"bracket\"===A.type||\"paren\"===A.type||\"brace\"===A.type)||Q.parens>0){Y({type:\"plus\",value:u});continue}Y({type:\"plus\",value:w});continue}if(\"@\"===u){if(!0!==y.noextglob&&\"(\"===F()&&\"?\"!==F(2)){Y({type:\"at\",extglob:!0,value:u,output:\"\"});continue}Y({type:\"text\",value:u});continue}if(\"*\"!==u){(\"$\"===u||\"^\"===u)&&(u=`\\\\${u}`);let t=r.exec(H());t&&(u+=t[0],Q.index+=t[0].length),Y({type:\"text\",value:u});continue}if(A&&(\"globstar\"===A.type||!0===A.star)){A.type=\"star\",A.star=!0,A.value+=u,A.output=N,Q.backtrack=!0,Q.globstar=!0,J(u);continue}let e=H();if(!0!==y.noextglob&&/^\\([^?]/.test(e)){Z(\"star\",u);continue}if(\"star\"===A.type){if(!0===y.noglobstar){J(u);continue}let o=A.prev,p=o.prev,n=\"slash\"===o.type||\"bos\"===o.type,a=p&&(\"star\"===p.type||\"globstar\"===p.type);if(!0===y.bash&&(!n||e[0]&&\"/\"!==e[0])){Y({type:\"star\",value:u,output:\"\"});continue}let r=Q.braces>0&&(\"comma\"===o.type||\"brace\"===o.type),s=T.length&&(\"pipe\"===o.type||\"paren\"===o.type);if(!n&&\"paren\"!==o.type&&!r&&!s){Y({type:\"star\",value:u,output:\"\"});continue}for(;\"/**\"===e.slice(0,3);){let u=t[Q.index+4];if(u&&\"/\"!==u)break;e=e.slice(3),J(\"/**\",3)}if(\"bos\"===o.type&&D()){A.type=\"globstar\",A.value+=u,A.output=O(y),Q.output=A.output,Q.globstar=!0,J(u);continue}if(\"slash\"===o.type&&\"bos\"!==o.prev.type&&!a&&D()){Q.output=Q.output.slice(0,-(o.output+A.output).length),o.output=`(?:${o.output}`,A.type=\"globstar\",A.output=O(y)+(y.strictSlashes?\")\":\"|$)\"),A.value+=u,Q.globstar=!0,Q.output+=o.output+A.output,J(u);continue}if(\"slash\"===o.type&&\"bos\"!==o.prev.type&&\"/\"===e[0]){let t=void 0!==e[1]?\"|$\":\"\";Q.output=Q.output.slice(0,-(o.output+A.output).length),o.output=`(?:${o.output}`,A.type=\"globstar\",A.output=`${O(y)}${E}|${E}${t})`,A.value+=u,Q.output+=o.output+A.output,Q.globstar=!0,J(u+G()),Y({type:\"slash\",value:\"/\",output:\"\"});continue}if(\"bos\"===o.type&&\"/\"===e[0]){A.type=\"globstar\",A.value+=u,A.output=`(?:^|${E}|${O(y)}${E})`,Q.output=A.output,Q.globstar=!0,J(u+G()),Y({type:\"slash\",value:\"/\",output:\"\"});continue}Q.output=Q.output.slice(0,-A.output.length),A.type=\"globstar\",A.output=O(y),A.value+=u,Q.output+=A.output,Q.globstar=!0,J(u);continue}let o={type:\"star\",value:u,output:N};if(!0===y.bash){o.output=\".*?\",(\"bos\"===A.type||\"slash\"===A.type)&&(o.output=P+o.output),Y(o);continue}if(A&&(\"bracket\"===A.type||\"paren\"===A.type)&&!0===y.regex){o.output=u,Y(o);continue}(Q.index===Q.start||\"slash\"===A.type||\"dot\"===A.type)&&(\"dot\"===A.type?(Q.output+=L,A.output+=L):!0===y.dot?(Q.output+=I,A.output+=I):(Q.output+=P,A.output+=P),\"*\"!==F()&&(Q.output+=S,A.output+=S)),Y(o)}for(;Q.brackets>0;){if(!0===y.strictBrackets)throw SyntaxError(c(\"closing\",\"]\"));Q.output=p.escapeLast(Q.output,\"[\"),X(\"brackets\")}for(;Q.parens>0;){if(!0===y.strictBrackets)throw SyntaxError(c(\"closing\",\")\"));Q.output=p.escapeLast(Q.output,\"(\"),X(\"parens\")}for(;Q.braces>0;){if(!0===y.strictBrackets)throw SyntaxError(c(\"closing\",\"}\"));Q.output=p.escapeLast(Q.output,\"{\"),X(\"braces\")}if(!0!==y.strictSlashes&&(\"star\"===A.type||\"bracket\"===A.type)&&Y({type:\"maybe_slash\",value:\"\",output:`${E}?`}),!0===Q.backtrack)for(let t of(Q.output=\"\",Q.tokens))Q.output+=null!=t.output?t.output:t.value,t.suffix&&(Q.output+=t.suffix);return Q};f.fastpaths=(t,e)=>{let u={...e},a=\"number\"==typeof u.maxLength?Math.min(n,u.maxLength):n,r=t.length;if(r>a)throw SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${a}`);t=l[t]||t;let s=p.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:c,ONE_CHAR:f,DOTS_SLASH:y,NO_DOT:g,NO_DOTS:h,NO_DOTS_SLASH:b,STAR:x,START_ANCHOR:$}=o.globChars(s),d=u.dot?h:g,v=u.dot?b:g,k=u.capture?\"\":\"?:\",m=!0===u.bash?\".*?\":x;u.capture&&(m=`(${m})`);let w=t=>!0===t.noglobstar?m:`(${k}(?:(?!${$}${t.dot?y:i}).)*?)`,E=t=>{switch(t){case\"*\":return`${d}${f}${m}`;case\".*\":return`${i}${f}${m}`;case\"*.*\":return`${d}${m}${i}${f}${m}`;case\"*/*\":return`${d}${m}${c}${f}${v}${m}`;case\"**\":return d+w(u);case\"**/*\":return`(?:${d}${w(u)}${c})?${v}${f}${m}`;case\"**/*.*\":return`(?:${d}${w(u)}${c})?${v}${m}${i}${f}${m}`;case\"**/.*\":return`(?:${d}${w(u)}${c})?${i}${f}${m}`;default:{let e=/^(.*?)\\.(\\w+)$/.exec(t);if(!e)return;let u=E(e[1]);if(!u)return;return u+i+e[2]}}},S=p.removePrefix(t,{negated:!1,prefix:\"\"}),q=E(S);return q&&!0!==u.strictSlashes&&(q+=`${c}?`),q},u.exports=f}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}