{"code":"function module(n,e,t){var o,i,r;t.link(\"meteor/oauth\",{OAuth:function(n){o=n}},0),t.link(\"../../settings/client\",{settings:function(n){i=n}},1),o.launchLogin=(r=o.launchLogin.bind(o),function(n){if(i.get(\"Accounts_OAuth_Proxy_services\").replace(/\\s/g,\"\").split(\",\").includes(n.loginService)){var e=n.loginUrl.match(/(&redirect_uri=)([^&]+|$)/)[2];n.loginUrl=n.loginUrl.replace(/(&redirect_uri=)([^&]+|$)/,\"$1\"+encodeURIComponent(i.get(\"Accounts_OAuth_Proxy_host\"))+\"/oauth_redirect\"),n.loginUrl=n.loginUrl.replace(/(&state=)([^&]+|$)/,\"$1\"+e+\"!$2\"),n.loginUrl=i.get(\"Accounts_OAuth_Proxy_host\")+\"/redirect/\"+encodeURIComponent(n.loginUrl)}return r(n)})}","map":"{\"version\":3,\"sources\":[\"app/lib/client/OAuthProxy.js\",\"<anon>\"],\"sourcesContent\":[\"import { OAuth } from 'meteor/oauth';\\n\\nimport { settings } from '../../settings/client';\\n\\nOAuth.launchLogin = ((func) =>\\n\\tfunction (options) {\\n\\t\\tconst proxy = settings.get('Accounts_OAuth_Proxy_services').replace(/\\\\s/g, '').split(',');\\n\\t\\tif (proxy.includes(options.loginService)) {\\n\\t\\t\\tconst redirect_uri = options.loginUrl.match(/(&redirect_uri=)([^&]+|$)/)[2];\\n\\t\\t\\toptions.loginUrl = options.loginUrl.replace(\\n\\t\\t\\t\\t/(&redirect_uri=)([^&]+|$)/,\\n\\t\\t\\t\\t`$1${encodeURIComponent(settings.get('Accounts_OAuth_Proxy_host'))}/oauth_redirect`,\\n\\t\\t\\t);\\n\\t\\t\\toptions.loginUrl = options.loginUrl.replace(/(&state=)([^&]+|$)/, `$1${redirect_uri}!$2`);\\n\\t\\t\\toptions.loginUrl = `${settings.get('Accounts_OAuth_Proxy_host')}/redirect/${encodeURIComponent(options.loginUrl)}`;\\n\\t\\t}\\n\\n\\t\\treturn func(options);\\n\\t})(OAuth.launchLogin.bind(OAuth));\\n\",null],\"names\":[\"OAuth\",\"settings\",\"func\",\"module\",\"link\",\"v\",\"launchLogin\",\"bind\",\"options\",\"proxy\",\"get\",\"replace\",\"split\",\"includes\",\"loginService\",\"redirect_uri\",\"loginUrl\",\"match\",\"encodeURIComponent\"],\"mappings\":\"2BAAIA,EAAqEC,EAInDC,EAJZC,EAAOC,IAAI,CAAC,eAAe,CAACJ,MAAM,SAASK,CAAC,EAAEL,EAAMK,CAAC,CAAC,EAAE,GAAgBF,EAAOC,IAAI,CAAC,wBAAwB,CAACH,SAAS,SAASI,CAAC,EAAEJ,EAASI,CAAC,CAAC,EAAE,GAIzJL,EAAMM,WAAW,EAAKJ,EAclBF,EAAMM,WAAW,CAACC,IAAI,CAACP,GAb1B,SAAUQ,CAAO,EAEhB,GAAIC,AADUR,EAASS,GAAG,CAAC,iCAAiCC,OAAO,CAAC,MAAO,IAAIC,KAAK,CAAC,KAC3EC,QAAQ,CAACL,EAAQM,YAAY,EAAG,CACzC,IAAMC,EAAeP,EAAQQ,QAAQ,CAACC,KAAK,CAAC,4BAA4B,CAAC,EAAE,AAC3ET,CAAAA,EAAQQ,QAAQ,CAAGR,EAAQQ,QAAQ,CAACL,OAAO,CAC1C,4BAA2B,KACtBO,mBAAmBjB,EAASS,GAAG,CAAC,8BAA6B,mBAEnEF,EAAQQ,QAAQ,CAAGR,EAAQQ,QAAQ,CAACL,OAAO,CAAC,qBAAoB,KAAOI,EAAY,OACnFP,EAAQQ,QAAQ,CAAMf,EAASS,GAAG,CAAC,6BAA4B,aAAaQ,mBAAmBV,EAAQQ,QAAQ,CAChH,CAEA,OAAOd,EAAKM,EACb\"}"}