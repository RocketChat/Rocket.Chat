{"code":"function module(t,i,e){e.export({default:()=>l});let s=new Uint32Array(512);class l{static from(t,i=f,e=u){let s=t.length,h=new Float64Array(2*s);for(let l=0;l<s;l++){let s=t[l];h[2*l]=i(s),h[2*l+1]=e(s)}return new l(h)}constructor(t){let i=t.length>>1;if(i>0&&\"number\"!=typeof t[0])throw Error(\"Expected coords to contain numbers.\");this.coords=t;let e=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){let t,i,e;let{coords:s,_hullPrev:l,_hullNext:r,_hullTri:_,_hullHash:f}=this,u=s.length>>1,o=1/0,d=1/0,g=-1/0,c=-1/0;for(let t=0;t<u;t++){let i=s[2*t],e=s[2*t+1];i<o&&(o=i),e<d&&(d=e),i>g&&(g=i),e>c&&(c=e),this._ids[t]=t}let y=(o+g)/2,w=(d+c)/2,b=1/0;for(let i=0;i<u;i++){let e=h(y,w,s[2*i],s[2*i+1]);e<b&&(t=i,b=e)}let A=s[2*t],k=s[2*t+1];b=1/0;for(let e=0;e<u;e++){if(e===t)continue;let l=h(A,k,s[2*e],s[2*e+1]);l<b&&l>0&&(i=e,b=l)}let S=s[2*i],x=s[2*i+1],z=1/0;for(let l=0;l<u;l++){if(l===t||l===i)continue;let h=function(t,i,e,s,l,h){let r=e-t,n=s-i,a=l-t,_=h-i,f=r*r+n*n,u=a*a+_*_,o=.5/(r*_-n*a),d=(_*f-n*u)*o,g=(r*u-a*f)*o;return d*d+g*g}(A,k,S,x,s[2*l],s[2*l+1]);h<z&&(e=l,z=h)}let M=s[2*e],U=s[2*e+1];if(z===1/0){for(let t=0;t<u;t++)this._dists[t]=s[2*t]-s[0]||s[2*t+1]-s[1];a(this._ids,this._dists,0,u-1);let t=new Uint32Array(u),i=0;for(let e=0,s=-1/0;e<u;e++){let l=this._ids[e];this._dists[l]>s&&(t[i++]=l,s=this._dists[l])}this.hull=t.subarray(0,i),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(n(A,k,S,x,M,U)){let t=i,s=S,l=x;i=e,S=M,x=U,e=t,M=s,U=l}let T=function(t,i,e,s,l,h){let r=e-t,n=s-i,a=l-t,_=h-i,f=r*r+n*n,u=a*a+_*_,o=.5/(r*_-n*a);return{x:t+(_*f-n*u)*o,y:i+(r*u-a*f)*o}}(A,k,S,x,M,U);this._cx=T.x,this._cy=T.y;for(let t=0;t<u;t++)this._dists[t]=h(s[2*t],s[2*t+1],T.x,T.y);a(this._ids,this._dists,0,u-1),this._hullStart=t;let K=3;r[t]=l[e]=i,r[i]=l[t]=e,r[e]=l[i]=t,_[t]=0,_[i]=1,_[e]=2,f.fill(-1),f[this._hashKey(A,k)]=t,f[this._hashKey(S,x)]=i,f[this._hashKey(M,U)]=e,this.trianglesLen=0,this._addTriangle(t,i,e,-1,-1,-1);for(let h=0,a,u;h<this._ids.length;h++){let o=this._ids[h],d=s[2*o],g=s[2*o+1];if(h>0&&2220446049250313e-31>=Math.abs(d-a)&&2220446049250313e-31>=Math.abs(g-u)||(a=d,u=g,o===t||o===i||o===e))continue;let c=0;for(let t=0,i=this._hashKey(d,g);t<this._hashSize&&(-1===(c=f[(i+t)%this._hashSize])||c===r[c]);t++);let y=c=l[c],w;for(;w=r[y],!n(d,g,s[2*y],s[2*y+1],s[2*w],s[2*w+1]);)if((y=w)===c){y=-1;break}if(-1===y)continue;let b=this._addTriangle(y,o,r[y],-1,-1,_[y]);_[o]=this._legalize(b+2),_[y]=b,K++;let A=r[y];for(;w=r[A],n(d,g,s[2*A],s[2*A+1],s[2*w],s[2*w+1]);)b=this._addTriangle(A,o,w,_[o],-1,_[A]),_[o]=this._legalize(b+2),r[A]=A,K--,A=w;if(y===c)for(;n(d,g,s[2*(w=l[y])],s[2*w+1],s[2*y],s[2*y+1]);)b=this._addTriangle(w,o,y,-1,_[y],_[w]),this._legalize(b+2),_[w]=b,r[y]=y,K--,y=w;this._hullStart=l[o]=y,r[y]=l[A]=o,r[o]=A,f[this._hashKey(d,g)]=o,f[this._hashKey(s[2*y],s[2*y+1])]=y}this.hull=new Uint32Array(K);for(let t=0,i=this._hullStart;t<K;t++)this.hull[t]=i,i=r[i];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function(t,i){let e=t/(Math.abs(t)+Math.abs(i));return(i>0?3-e:1+e)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:i,_halfedges:e,coords:l}=this,h=0,r=0;for(;;){let n=e[t],a=t-t%3;if(r=a+(t+2)%3,-1===n){if(0===h)break;t=s[--h];continue}let _=n-n%3,f=a+(t+1)%3,u=_+(n+2)%3,o=i[r],d=i[t],g=i[f],c=i[u],y=function(t,i,e,s,l,h,r,n){let a=t-r,_=i-n,f=e-r,u=s-n,o=l-r,d=h-n,g=f*f+u*u,c=o*o+d*d;return a*(u*c-g*d)-_*(f*c-g*o)+(a*a+_*_)*(f*d-u*o)<0}(l[2*o],l[2*o+1],l[2*d],l[2*d+1],l[2*g],l[2*g+1],l[2*c],l[2*c+1]);if(y){i[t]=c,i[n]=o;let l=e[u];if(-1===l){let i=this._hullStart;do{if(this._hullTri[i]===u){this._hullTri[i]=t;break}i=this._hullPrev[i]}while(i!==this._hullStart)}this._link(t,l),this._link(n,e[r]),this._link(r,u);let a=_+(n+1)%3;h<s.length&&(s[h++]=a)}else{if(0===h)break;t=s[--h]}}return r}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,e,s,l,h){let r=this.trianglesLen;return this._triangles[r]=t,this._triangles[r+1]=i,this._triangles[r+2]=e,this._link(r,s),this._link(r+1,l),this._link(r+2,h),this.trianglesLen+=3,r}}function h(t,i,e,s){let l=t-e,h=i-s;return l*l+h*h}function r(t,i,e,s,l,h){let r=(s-i)*(l-t),n=(e-t)*(h-i);return Math.abs(r-n)>=33306690738754716e-32*Math.abs(r+n)?r-n:0}function n(t,i,e,s,l,h){let n=r(l,h,t,i,e,s)||r(t,i,e,s,l,h)||r(e,s,l,h,t,i);return n<0}function a(t,i,e,s){if(s-e<=20)for(let l=e+1;l<=s;l++){let s=t[l],h=i[s],r=l-1;for(;r>=e&&i[t[r]]>h;)t[r+1]=t[r--];t[r+1]=s}else{let l=e+s>>1,h=e+1,r=s;_(t,l,h),i[t[e]]>i[t[s]]&&_(t,e,s),i[t[h]]>i[t[s]]&&_(t,h,s),i[t[e]]>i[t[h]]&&_(t,e,h);let n=t[h],f=i[n];for(;;){do h++;while(i[t[h]]<f);do r--;while(i[t[r]]>f);if(r<h)break;_(t,h,r)}t[e+1]=t[r],t[r]=n,s-h+1>=r-e?(a(t,i,h,s),a(t,i,e,r-1)):(a(t,i,e,r-1),a(t,i,h,s))}}function _(t,i,e){let s=t[i];t[i]=t[e],t[e]=s}function f(t){return t[0]}function u(t){return t[1]}}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}