{"code":"function module(e,t,n){var r;r=function(e){\"use strict\";e.defineMode(\"tiki\",function(e){function t(e,t,n){return function(i,o){for(;!i.eol();){if(i.match(t)){o.tokenize=r;break}i.next()}return n&&(o.tokenize=n),e}}function n(e){return function(t,n){for(;!t.eol();)t.next();return n.tokenize=r,e}}function r(e,i){function o(t){return i.tokenize=t,t(e,i)}var a=e.sol(),u=e.next();switch(u){case\"{\":return e.eat(\"/\"),e.eatSpace(),e.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?(}]/),i.tokenize=f,\"tag\";case\"_\":if(e.eat(\"_\"))return o(t(\"strong\",\"__\",r));break;case\"'\":if(e.eat(\"'\"))return o(t(\"em\",\"''\",r));break;case\"(\":if(e.eat(\"(\"))return o(t(\"variable-2\",\"))\",r));break;case\"[\":return o(t(\"variable-3\",\"]\",r));case\"|\":if(e.eat(\"|\"))return o(t(\"comment\",\"||\"));break;case\"-\":if(e.eat(\"=\"))return o(t(\"header string\",\"=-\",r));if(e.eat(\"-\"))return o(t(\"error tw-deleted\",\"--\",r));break;case\"=\":if(e.match(\"==\"))return o(t(\"tw-underline\",\"===\",r));break;case\":\":if(e.eat(\":\"))return o(t(\"comment\",\"::\"));break;case\"^\":return o(t(\"tw-box\",\"^\"));case\"~\":if(e.match(\"np~\"))return o(t(\"meta\",\"~/np~\"))}if(a)switch(u){case\"!\":if(e.match(\"!!!!!\")||e.match(\"!!!!\"))return o(n(\"header string\"));if(e.match(\"!!!\"))return o(n(\"header string\"));if(e.match(\"!!\"))return o(n(\"header string\"));else return o(n(\"header string\"));case\"*\":case\"#\":case\"+\":return o(n(\"tw-listitem bracket\"))}return null}var i,o,a,u,c=e.indentUnit;function f(e,t){var n,i=e.next(),a=e.peek();return\"}\"==i?(t.tokenize=r,\"tag\"):\"(\"==i||\")\"==i?\"bracket\":\"=\"==i?(o=\"equals\",\">\"==a&&(e.next(),a=e.peek()),/[\\'\\\"]/.test(a)||(t.tokenize=function(e,t){for(;!e.eol();){var n=e.next(),r=e.peek();if(\" \"==n||\",\"==n||/[ )}]/.test(r)){t.tokenize=f;break}}return\"string\"}),\"operator\"):/[\\'\\\"]/.test(i)?(t.tokenize=function(e,t){for(;!e.eol();)if(e.next()==i){t.tokenize=f;break}return\"string\"},t.tokenize(e,t)):(e.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?]/),\"keyword\")}function s(){for(var e=arguments.length-1;e>=0;e--)a.cc.push(arguments[e])}function l(){return s.apply(null,arguments),!0}function d(e,t){var n=a.context&&a.context.noIndent;a.context={prev:a.context,pluginName:e,indent:a.indented,startOfLine:t,noIndent:n}}function k(){a.context&&(a.context=a.context.prev)}function g(e){return\"keyword\"==e?(u=\"attribute\",l(g)):\"equals\"==e?l(m,g):s()}function m(e){return\"keyword\"==e?(u=\"string\",l()):\"string\"==e?l(p):s()}function p(e){return\"string\"==e?l(p):s()}return{startState:function(){return{tokenize:r,cc:[],indented:0,startOfLine:!0,pluginName:null,context:null}},token:function(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=e.indentation()),e.eatSpace())return null;u=o=null;var n=t.tokenize(e,t);if((n||o)&&\"comment\"!=n)for(a=t;!(t.cc.pop()||function(e){if(\"openPlugin\"==e){var t;return a.pluginName=null,l(g,(t=a.startOfLine,function(e){return\"selfclosePlugin\"==e||\"endPlugin\"==e||\"endPlugin\"==e&&d(a.pluginName,t),l()}))}if(\"closePlugin\"==e){var n,i=!1;return a.context?(i=null!=a.context.pluginName,k()):i=!0,i&&(u=\"error\"),l((n=i,function(e){return(n&&(u=\"error\"),\"endPlugin\"==e)?l():s()}))}return\"string\"==e&&(a.context&&\"!cdata\"==a.context.name||d(\"!cdata\"),a.tokenize==r&&k()),l()})(o||n););return t.startOfLine=!1,u||n},indent:function(e,t){var n=e.context;if(n&&n.noIndent)return 0;for(n&&/^{\\//.test(t)&&(n=n.prev);n&&!n.startOfLine;)n=n.prev;return n?n.indent+c:0},electricChars:\"/\"}}),e.defineMIME(\"text/tiki\",\"tiki\")},\"object\"==typeof t&&\"object\"==typeof n?r(e(\"../../lib/codemirror\")):\"function\"==typeof define&&define.amd?define([\"../../lib/codemirror\"],r):r(CodeMirror)}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}