{"code":"function module(t,e,r){(function(e){let o=t(\"libsodium-wrappers\"),s=t(\"../backend\"),a=t(\"../cryptography-key\"),i=t(\"../polyfill\"),u=t(\"../util\"),f=t(\"../sodium-error\"),_=t(\"typedarray-to-buffer\");\"undefined\"==typeof Buffer&&t(\"buffer/\").Buffer,r.exports=class t extends s{constructor(t){super(t),this.sodium=t,this.backendName=\"LibsodiumWrappersBackend\"}static async init(){return await o.ready,new t(o)}async crypto_aead_xchacha20poly1305_ietf_decrypt(t,e,r,o){return _(this.sodium.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,e,r,o.getBuffer()))}async crypto_aead_xchacha20poly1305_ietf_encrypt(t,e,r,o){return _(this.sodium.crypto_aead_xchacha20poly1305_ietf_encrypt(t,e,null,r,o.getBuffer()))}async crypto_auth(t,e){return _(this.sodium.crypto_auth(t,e.getBuffer()))}async crypto_auth_verify(t,e,r){return this.sodium.crypto_auth_verify(t,e,r.getBuffer())}async crypto_box(t,e,r,o){return u.toBuffer(await this.sodium.crypto_box_easy(await u.toBuffer(t),await u.toBuffer(e),o.getBuffer(),r.getBuffer()))}async crypto_box_open(t,e,r,o){return u.toBuffer(await this.sodium.crypto_box_open_easy(await u.toBuffer(t),await u.toBuffer(e),o.getBuffer(),r.getBuffer()))}async crypto_box_seal(t,e){return u.toBuffer(await this.sodium.crypto_box_seal(await u.toBuffer(t),e.getBuffer()))}async crypto_box_seal_open(t,e,r){return u.toBuffer(await this.sodium.crypto_box_seal_open(await u.toBuffer(t),e.getBuffer(),r.getBuffer()))}async crypto_box_keypair(){let t=this.sodium.crypto_box_keypair();return new a(Buffer.concat([await u.toBuffer(t.privateKey),await u.toBuffer(t.publicKey)]))}async crypto_generichash(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32;return e?u.toBuffer(this.sodium.crypto_generichash(r,await u.toBuffer(t),e.getBuffer())):u.toBuffer(this.sodium.crypto_generichash(r,await u.toBuffer(t)))}async crypto_generichash_init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return t?this.sodium.crypto_generichash_init(t.getBuffer(),e):this.sodium.crypto_generichash_init(null,e)}async crypto_generichash_update(t,e){return this.sodium.crypto_generichash_update(t,await u.toBuffer(e))}async crypto_generichash_final(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;return u.toBuffer(this.sodium.crypto_generichash_final(t,e))}async crypto_kx_client_session_keys(t,e,r){let o=this.sodium.crypto_kx_client_session_keys(t.getBuffer(),e.getBuffer(),r.getBuffer());return[new a(await u.toBuffer(o.sharedRx)),new a(await u.toBuffer(o.sharedTx))]}async crypto_kx_server_session_keys(t,e,r){let o=this.sodium.crypto_kx_server_session_keys(t.getBuffer(),e.getBuffer(),r.getBuffer());return[new a(await u.toBuffer(o.sharedRx)),new a(await u.toBuffer(o.sharedTx))]}async crypto_kdf_derive_from_key(t,e,r,o){return new a(await u.toBuffer(this.sodium.crypto_kdf_derive_from_key(t,0|e,r,o.getBuffer())))}async crypto_onetimeauth(t,e){return void 0===this.sodium.crypto_onetimeauth?i.crypto_onetimeauth(await u.toBuffer(t),e):this.sodium.crypto_onetimeauth(await u.toBuffer(t),e.getBuffer())}async crypto_onetimeauth_verify(t,e,r){return void 0===this.sodium.crypto_onetimeauth_verify?i.crypto_onetimeauth_verify(await u.toBuffer(t),e,r):this.sodium.crypto_onetimeauth_verify(r,await u.toBuffer(t),e.getBuffer())}async crypto_pwhash(t,e,r,o,s,a){return u.toBuffer(this.sodium.crypto_pwhash(t,await u.toBuffer(e),await u.toBuffer(r),o,s,a))}async crypto_pwhash_str(t,e,r){return(await u.toBuffer(this.sodium.crypto_pwhash_str(await u.toBuffer(t),e,r))).toString(\"utf-8\")}async crypto_pwhash_str_verify(t,e){return this.sodium.crypto_pwhash_str_verify(e.toString(\"utf-8\"),await u.toBuffer(t))}async crypto_pwhash_str_needs_rehash(t,e,r){return\"function\"!=typeof this.sodium.crypto_pwhash_str_needs_rehash?await i.crypto_pwhash_str_needs_rehash(t,e,r):this.sodium.crypto_pwhash_str_needs_rehash(t,e,r)}async crypto_scalarmult(t,e){return new a(await u.toBuffer(this.sodium.crypto_scalarmult(t.getBuffer(),e.getBuffer())))}async crypto_secretbox(t,e,r){return u.toBuffer(this.sodium.crypto_secretbox_easy(await u.toBuffer(t),e,r.getBuffer()))}async crypto_secretbox_open(t,e,r){return u.toBuffer(this.sodium.crypto_secretbox_open_easy(await u.toBuffer(t),e,r.getBuffer()))}async crypto_shorthash(t,e){return u.toBuffer(this.sodium.crypto_shorthash(await u.toBuffer(t),e.getBuffer()))}async crypto_sign(t,e){return u.toBuffer(this.sodium.crypto_sign(await u.toBuffer(t),e.getBuffer()))}async crypto_sign_open(t,e){return u.toBuffer(this.sodium.crypto_sign_open(t,e.getBuffer()))}async crypto_sign_detached(t,e){return u.toBuffer(this.sodium.crypto_sign_detached(await u.toBuffer(t),e.getBuffer()))}async crypto_sign_verify_detached(t,e,r){return this.sodium.crypto_sign_verify_detached(r,await u.toBuffer(t),e.getBuffer())}async crypto_sign_keypair(){let t=this.sodium.crypto_sign_keypair();return new a(Buffer.concat([await u.toBuffer(t.privateKey),await u.toBuffer(t.publicKey)]))}async crypto_sign_seed_keypair(t){let e=this.sodium.crypto_sign_seed_keypair(t);return new a(Buffer.concat([await u.toBuffer(e.privateKey),await u.toBuffer(e.publicKey)]))}async crypto_sign_ed25519_sk_to_curve25519(t){return u.toBuffer(this.sodium.crypto_sign_ed25519_sk_to_curve25519(t.getBuffer()))}async crypto_sign_ed25519_pk_to_curve25519(t){return u.toBuffer(this.sodium.crypto_sign_ed25519_pk_to_curve25519(t.getBuffer()))}async crypto_stream(t,e,r){return void 0===this.sodium.crypto_stream_xor?i.crypto_stream_xor(Buffer.alloc(t,0),await u.toBuffer(e),r):this.sodium.crypto_stream(t,await u.toBuffer(e),r.getBuffer())}async crypto_stream_xor(t,e,r){return void 0===this.sodium.crypto_stream_xor?i.crypto_stream_xor(await u.toBuffer(t),await u.toBuffer(e),r):this.sodium.crypto_stream_xor(await u.toBuffer(t),await u.toBuffer(e),r.getBuffer())}async crypto_scalarmult_base(t){return u.toBuffer(this.sodium.crypto_scalarmult_base(t.getBuffer()))}async crypto_secretstream_xchacha20poly1305_init_push(t){let e=this.sodium.crypto_secretstream_xchacha20poly1305_init_push(t.getBuffer());return[e.state,await u.toBuffer(e.header)]}async crypto_secretstream_xchacha20poly1305_init_pull(t,e){if(t.length!==this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES)throw new f(\"Header must be \".concat(this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES,\" bytes long\"));return this.sodium.crypto_secretstream_xchacha20poly1305_init_pull(t,e.getBuffer())}async crypto_secretstream_xchacha20poly1305_push(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return u.toBuffer(this.sodium.crypto_secretstream_xchacha20poly1305_push(t,await u.toBuffer(e),r.length>0?await u.toBuffer(r):null,o))}async crypto_secretstream_xchacha20poly1305_pull(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e.length<this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_ABYTES)throw new f(\"Invalid ciphertext size\");let s=this.sodium.crypto_secretstream_xchacha20poly1305_pull(t,await u.toBuffer(e),r.length>0?await u.toBuffer(r):null,o);if(o!==s.tag)throw new f(\"Invalid tag (Given: \".concat(o,\"; Expected: \").concat(s.tag,\")\"));return u.toBuffer(s.message)}async crypto_secretstream_xchacha20poly1305_rekey(t){this.sodium.crypto_secretstream_xchacha20poly1305_rekey(t)}async randombytes_buf(t){return u.toBuffer(await this.sodium.randombytes_buf(t))}async randombytes_uniform(t){return this.sodium.randombytes_uniform(t)}async sodium_add(t,e){let r=await u.cloneBuffer(t);return this.sodium.add(r,e),r}async sodium_bin2hex(t){return this.sodium.to_hex(t)}async sodium_compare(t,e){return this.sodium.compare(t,e)}async sodium_hex2bin(t){return Buffer.from(this.sodium.from_hex(t))}async sodium_increment(t){return this.sodium.increment(t)}async sodium_is_zero(t,e){return this.sodium.is_zero(t,e)}async sodium_memcmp(t,e){return this.sodium.memcmp(t,e)}async sodium_memzero(t){this.sodium.memzero(t)}async sodium_pad(t,e){return u.toBuffer(this.sodium.pad(await u.toBuffer(t),e))}async sodium_unpad(t,e){return u.toBuffer(this.sodium.unpad(t,e))}}}).call(this,r)}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}