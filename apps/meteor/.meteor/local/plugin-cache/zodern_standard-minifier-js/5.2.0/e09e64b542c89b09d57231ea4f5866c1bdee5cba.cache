{"code":"function module(t,e,r){(function(e){e.link(\"@babel/runtime/regenerator\",{default:function(t){n=t}},0),e.link(\"@babel/runtime/helpers/inheritsLoose\",{default:function(t){s=t}},1);var n,s,u=t(\"libsodium-wrappers\"),a=t(\"../backend\"),c=t(\"../cryptography-key\"),o=t(\"../polyfill\"),i=t(\"../util\"),f=t(\"../sodium-error\"),l=t(\"typedarray-to-buffer\");\"undefined\"==typeof Buffer&&t(\"buffer/\").Buffer,r.exports=function(t){function e(e){var r;return(r=t.call(this,e)||this).sodium=e,r.backendName=\"LibsodiumWrappersBackend\",r}s(e,t),e.init=function(){return n.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.awrap(u.ready);case 2:return t.abrupt(\"return\",new e(u));case 3:case\"end\":return t.stop()}},null,null,null,Promise)};var r=e.prototype;return r.crypto_aead_xchacha20poly1305_ietf_decrypt=function(t,e,r,s){return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",l(this.sodium.crypto_aead_xchacha20poly1305_ietf_decrypt(null,t,e,r,s.getBuffer())));case 1:case\"end\":return n.stop()}},null,this,null,Promise)},r.crypto_aead_xchacha20poly1305_ietf_encrypt=function(t,e,r,s){return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",l(this.sodium.crypto_aead_xchacha20poly1305_ietf_encrypt(t,e,null,r,s.getBuffer())));case 1:case\"end\":return n.stop()}},null,this,null,Promise)},r.crypto_auth=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",l(this.sodium.crypto_auth(t,e.getBuffer())));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_auth_verify=function(t,e,r){return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt(\"return\",this.sodium.crypto_auth_verify(t,e,r.getBuffer()));case 1:case\"end\":return n.stop()}},null,this,null,Promise)},r.crypto_box=function(t,e,r,s){return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=i,u.t1=n,u.t2=this.sodium,u.next=5,n.awrap(i.toBuffer(t));case 5:return u.t3=u.sent,u.next=8,n.awrap(i.toBuffer(e));case 8:return u.t4=u.sent,u.t5=s.getBuffer(),u.t6=r.getBuffer(),u.t7=u.t2.crypto_box_easy.call(u.t2,u.t3,u.t4,u.t5,u.t6),u.next=14,u.t1.awrap.call(u.t1,u.t7);case 14:return u.t8=u.sent,u.abrupt(\"return\",u.t0.toBuffer.call(u.t0,u.t8));case 16:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_box_open=function(t,e,r,s){return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=i,u.t1=n,u.t2=this.sodium,u.next=5,n.awrap(i.toBuffer(t));case 5:return u.t3=u.sent,u.next=8,n.awrap(i.toBuffer(e));case 8:return u.t4=u.sent,u.t5=s.getBuffer(),u.t6=r.getBuffer(),u.t7=u.t2.crypto_box_open_easy.call(u.t2,u.t3,u.t4,u.t5,u.t6),u.next=14,u.t1.awrap.call(u.t1,u.t7);case 14:return u.t8=u.sent,u.abrupt(\"return\",u.t0.toBuffer.call(u.t0,u.t8));case 16:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_box_seal=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i,r.t1=n,r.t2=this.sodium,r.next=5,n.awrap(i.toBuffer(t));case 5:return r.t3=r.sent,r.t4=e.getBuffer(),r.t5=r.t2.crypto_box_seal.call(r.t2,r.t3,r.t4),r.next=10,r.t1.awrap.call(r.t1,r.t5);case 10:return r.t6=r.sent,r.abrupt(\"return\",r.t0.toBuffer.call(r.t0,r.t6));case 12:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_box_seal_open=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=i,s.t1=n,s.t2=this.sodium,s.next=5,n.awrap(i.toBuffer(t));case 5:return s.t3=s.sent,s.t4=e.getBuffer(),s.t5=r.getBuffer(),s.t6=s.t2.crypto_box_seal_open.call(s.t2,s.t3,s.t4,s.t5),s.next=11,s.t1.awrap.call(s.t1,s.t6);case 11:return s.t7=s.sent,s.abrupt(\"return\",s.t0.toBuffer.call(s.t0,s.t7));case 13:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_box_keypair=function(){var t;return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sodium.crypto_box_keypair(),e.t0=c,e.t1=Buffer,e.next=5,n.awrap(i.toBuffer(t.privateKey));case 5:return e.t2=e.sent,e.next=8,n.awrap(i.toBuffer(t.publicKey));case 8:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.t5=e.t1.concat.call(e.t1,e.t4),e.abrupt(\"return\",new e.t0(e.t5));case 12:case\"end\":return e.stop()}},null,this,null,Promise)},r.crypto_generichash=function(t){var e,r,s=arguments;return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(e=s.length>1&&void 0!==s[1]?s[1]:null,r=s.length>2&&void 0!==s[2]?s[2]:32,!e){u.next=12;break}return u.t0=i,u.t1=this.sodium,u.t2=r,u.next=8,n.awrap(i.toBuffer(t));case 8:return u.t3=u.sent,u.t4=e.getBuffer(),u.t5=u.t1.crypto_generichash.call(u.t1,u.t2,u.t3,u.t4),u.abrupt(\"return\",u.t0.toBuffer.call(u.t0,u.t5));case 12:return u.t6=i,u.t7=this.sodium,u.t8=r,u.next=17,n.awrap(i.toBuffer(t));case 17:return u.t9=u.sent,u.t10=u.t7.crypto_generichash.call(u.t7,u.t8,u.t9),u.abrupt(\"return\",u.t6.toBuffer.call(u.t6,u.t10));case 20:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_generichash_init=function(){var t,e,r=arguments;return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:null,e=r.length>1&&void 0!==r[1]?r[1]:32,!t){n.next=4;break}return n.abrupt(\"return\",this.sodium.crypto_generichash_init(t.getBuffer(),e));case 4:return n.abrupt(\"return\",this.sodium.crypto_generichash_init(null,e));case 5:case\"end\":return n.stop()}},null,this,null,Promise)},r.crypto_generichash_update=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this.sodium,r.t1=t,r.next=4,n.awrap(i.toBuffer(e));case 4:return r.t2=r.sent,r.abrupt(\"return\",r.t0.crypto_generichash_update.call(r.t0,r.t1,r.t2));case 6:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_generichash_final=function(t){var e,r=arguments;return n.async(function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>1&&void 0!==r[1]?r[1]:32,n.abrupt(\"return\",i.toBuffer(this.sodium.crypto_generichash_final(t,e)));case 2:case\"end\":return n.stop()}},null,this,null,Promise)},r.crypto_kx_client_session_keys=function(t,e,r){var s;return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=this.sodium.crypto_kx_client_session_keys(t.getBuffer(),e.getBuffer(),r.getBuffer()),u.t0=c,u.next=4,n.awrap(i.toBuffer(s.sharedRx));case 4:return u.t1=u.sent,u.t2=new u.t0(u.t1),u.t3=c,u.next=9,n.awrap(i.toBuffer(s.sharedTx));case 9:return u.t4=u.sent,u.t5=new u.t3(u.t4),u.abrupt(\"return\",[u.t2,u.t5]);case 12:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_kx_server_session_keys=function(t,e,r){var s;return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s=this.sodium.crypto_kx_server_session_keys(t.getBuffer(),e.getBuffer(),r.getBuffer()),u.t0=c,u.next=4,n.awrap(i.toBuffer(s.sharedRx));case 4:return u.t1=u.sent,u.t2=new u.t0(u.t1),u.t3=c,u.next=9,n.awrap(i.toBuffer(s.sharedTx));case 9:return u.t4=u.sent,u.t5=new u.t3(u.t4),u.abrupt(\"return\",[u.t2,u.t5]);case 12:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_kdf_derive_from_key=function(t,e,r,s){return n.async(function(u){for(;;)switch(u.prev=u.next){case 0:return u.t0=c,u.next=3,n.awrap(i.toBuffer(this.sodium.crypto_kdf_derive_from_key(t,0|e,r,s.getBuffer())));case 3:return u.t1=u.sent,u.abrupt(\"return\",new u.t0(u.t1));case 5:case\"end\":return u.stop()}},null,this,null,Promise)},r.crypto_onetimeauth=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0!==this.sodium.crypto_onetimeauth){r.next=7;break}return r.t0=o,r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t1=r.sent,r.t2=e,r.abrupt(\"return\",r.t0.crypto_onetimeauth.call(r.t0,r.t1,r.t2));case 7:return r.t3=this.sodium,r.next=10,n.awrap(i.toBuffer(t));case 10:return r.t4=r.sent,r.t5=e.getBuffer(),r.abrupt(\"return\",r.t3.crypto_onetimeauth.call(r.t3,r.t4,r.t5));case 13:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_onetimeauth_verify=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==this.sodium.crypto_onetimeauth_verify){s.next=8;break}return s.t0=o,s.next=4,n.awrap(i.toBuffer(t));case 4:return s.t1=s.sent,s.t2=e,s.t3=r,s.abrupt(\"return\",s.t0.crypto_onetimeauth_verify.call(s.t0,s.t1,s.t2,s.t3));case 8:return s.t4=this.sodium,s.t5=r,s.next=12,n.awrap(i.toBuffer(t));case 12:return s.t6=s.sent,s.t7=e.getBuffer(),s.abrupt(\"return\",s.t4.crypto_onetimeauth_verify.call(s.t4,s.t5,s.t6,s.t7));case 15:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_pwhash=function(t,e,r,s,u,a){return n.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=i,c.t1=this.sodium,c.t2=t,c.next=5,n.awrap(i.toBuffer(e));case 5:return c.t3=c.sent,c.next=8,n.awrap(i.toBuffer(r));case 8:return c.t4=c.sent,c.t5=s,c.t6=u,c.t7=a,c.t8=c.t1.crypto_pwhash.call(c.t1,c.t2,c.t3,c.t4,c.t5,c.t6,c.t7),c.abrupt(\"return\",c.t0.toBuffer.call(c.t0,c.t8));case 14:case\"end\":return c.stop()}},null,this,null,Promise)},r.crypto_pwhash_str=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=n,s.t1=i,s.t2=this.sodium,s.next=5,n.awrap(i.toBuffer(t));case 5:return s.t3=s.sent,s.t4=e,s.t5=r,s.t6=s.t2.crypto_pwhash_str.call(s.t2,s.t3,s.t4,s.t5),s.t7=s.t1.toBuffer.call(s.t1,s.t6),s.next=12,s.t0.awrap.call(s.t0,s.t7);case 12:return s.abrupt(\"return\",s.sent.toString(\"utf-8\"));case 13:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_pwhash_str_verify=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this.sodium,r.t1=e.toString(\"utf-8\"),r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t2=r.sent,r.abrupt(\"return\",r.t0.crypto_pwhash_str_verify.call(r.t0,r.t1,r.t2));case 6:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_pwhash_str_needs_rehash=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(\"function\"!=typeof this.sodium.crypto_pwhash_str_needs_rehash)){s.next=4;break}return s.next=3,n.awrap(o.crypto_pwhash_str_needs_rehash(t,e,r));case 3:return s.abrupt(\"return\",s.sent);case 4:return s.abrupt(\"return\",this.sodium.crypto_pwhash_str_needs_rehash(t,e,r));case 5:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_scalarmult=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=c,r.next=3,n.awrap(i.toBuffer(this.sodium.crypto_scalarmult(t.getBuffer(),e.getBuffer())));case 3:return r.t1=r.sent,r.abrupt(\"return\",new r.t0(r.t1));case 5:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_secretbox=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=i,s.t1=this.sodium,s.next=4,n.awrap(i.toBuffer(t));case 4:return s.t2=s.sent,s.t3=e,s.t4=r.getBuffer(),s.t5=s.t1.crypto_secretbox_easy.call(s.t1,s.t2,s.t3,s.t4),s.abrupt(\"return\",s.t0.toBuffer.call(s.t0,s.t5));case 9:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_secretbox_open=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=i,s.t1=this.sodium,s.next=4,n.awrap(i.toBuffer(t));case 4:return s.t2=s.sent,s.t3=e,s.t4=r.getBuffer(),s.t5=s.t1.crypto_secretbox_open_easy.call(s.t1,s.t2,s.t3,s.t4),s.abrupt(\"return\",s.t0.toBuffer.call(s.t0,s.t5));case 9:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_shorthash=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i,r.t1=this.sodium,r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t2=r.sent,r.t3=e.getBuffer(),r.t4=r.t1.crypto_shorthash.call(r.t1,r.t2,r.t3),r.abrupt(\"return\",r.t0.toBuffer.call(r.t0,r.t4));case 8:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_sign=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i,r.t1=this.sodium,r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t2=r.sent,r.t3=e.getBuffer(),r.t4=r.t1.crypto_sign.call(r.t1,r.t2,r.t3),r.abrupt(\"return\",r.t0.toBuffer.call(r.t0,r.t4));case 8:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_sign_open=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",i.toBuffer(this.sodium.crypto_sign_open(t,e.getBuffer())));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_sign_detached=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i,r.t1=this.sodium,r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t2=r.sent,r.t3=e.getBuffer(),r.t4=r.t1.crypto_sign_detached.call(r.t1,r.t2,r.t3),r.abrupt(\"return\",r.t0.toBuffer.call(r.t0,r.t4));case 8:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_sign_verify_detached=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=this.sodium,s.t1=r,s.next=4,n.awrap(i.toBuffer(t));case 4:return s.t2=s.sent,s.t3=e.getBuffer(),s.abrupt(\"return\",s.t0.crypto_sign_verify_detached.call(s.t0,s.t1,s.t2,s.t3));case 7:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_sign_keypair=function(){var t;return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sodium.crypto_sign_keypair(),e.t0=c,e.t1=Buffer,e.next=5,n.awrap(i.toBuffer(t.privateKey));case 5:return e.t2=e.sent,e.next=8,n.awrap(i.toBuffer(t.publicKey));case 8:return e.t3=e.sent,e.t4=[e.t2,e.t3],e.t5=e.t1.concat.call(e.t1,e.t4),e.abrupt(\"return\",new e.t0(e.t5));case 12:case\"end\":return e.stop()}},null,this,null,Promise)},r.crypto_sign_seed_keypair=function(t){var e;return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.sodium.crypto_sign_seed_keypair(t),r.t0=c,r.t1=Buffer,r.next=5,n.awrap(i.toBuffer(e.privateKey));case 5:return r.t2=r.sent,r.next=8,n.awrap(i.toBuffer(e.publicKey));case 8:return r.t3=r.sent,r.t4=[r.t2,r.t3],r.t5=r.t1.concat.call(r.t1,r.t4),r.abrupt(\"return\",new r.t0(r.t5));case 12:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_sign_ed25519_sk_to_curve25519=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.toBuffer(this.sodium.crypto_sign_ed25519_sk_to_curve25519(t.getBuffer())));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.crypto_sign_ed25519_pk_to_curve25519=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.toBuffer(this.sodium.crypto_sign_ed25519_pk_to_curve25519(t.getBuffer())));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.crypto_stream=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==this.sodium.crypto_stream_xor){s.next=8;break}return s.t0=o,s.t1=Buffer.alloc(t,0),s.next=5,n.awrap(i.toBuffer(e));case 5:return s.t2=s.sent,s.t3=r,s.abrupt(\"return\",s.t0.crypto_stream_xor.call(s.t0,s.t1,s.t2,s.t3));case 8:return s.t4=this.sodium,s.t5=t,s.next=12,n.awrap(i.toBuffer(e));case 12:return s.t6=s.sent,s.t7=r.getBuffer(),s.abrupt(\"return\",s.t4.crypto_stream.call(s.t4,s.t5,s.t6,s.t7));case 15:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_stream_xor=function(t,e,r){return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(void 0!==this.sodium.crypto_stream_xor){s.next=10;break}return s.t0=o,s.next=4,n.awrap(i.toBuffer(t));case 4:return s.t1=s.sent,s.next=7,n.awrap(i.toBuffer(e));case 7:return s.t2=s.sent,s.t3=r,s.abrupt(\"return\",s.t0.crypto_stream_xor.call(s.t0,s.t1,s.t2,s.t3));case 10:return s.t4=this.sodium,s.next=13,n.awrap(i.toBuffer(t));case 13:return s.t5=s.sent,s.next=16,n.awrap(i.toBuffer(e));case 16:return s.t6=s.sent,s.t7=r.getBuffer(),s.abrupt(\"return\",s.t4.crypto_stream_xor.call(s.t4,s.t5,s.t6,s.t7));case 19:case\"end\":return s.stop()}},null,this,null,Promise)},r.crypto_scalarmult_base=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",i.toBuffer(this.sodium.crypto_scalarmult_base(t.getBuffer())));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.crypto_secretstream_xchacha20poly1305_init_push=function(t){var e;return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e=this.sodium.crypto_secretstream_xchacha20poly1305_init_push(t.getBuffer()),r.t0=e.state,r.next=4,n.awrap(i.toBuffer(e.header));case 4:return r.t1=r.sent,r.abrupt(\"return\",[r.t0,r.t1]);case 6:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_secretstream_xchacha20poly1305_init_pull=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.length!==this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES)){r.next=2;break}throw new f(\"Header must be \"+this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_HEADERBYTES+\" bytes long\");case 2:return r.abrupt(\"return\",this.sodium.crypto_secretstream_xchacha20poly1305_init_pull(t,e.getBuffer()));case 3:case\"end\":return r.stop()}},null,this,null,Promise)},r.crypto_secretstream_xchacha20poly1305_push=function(t,e){var r,s,u=arguments;return n.async(function(a){for(;;)switch(a.prev=a.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:\"\",s=u.length>3&&void 0!==u[3]?u[3]:0,a.t0=i,a.t1=this.sodium,a.t2=t,a.next=7,n.awrap(i.toBuffer(e));case 7:if(a.t3=a.sent,!(r.length>0)){a.next=14;break}return a.next=11,n.awrap(i.toBuffer(r));case 11:a.t4=a.sent,a.next=15;break;case 14:a.t4=null;case 15:return a.t5=a.t4,a.t6=s,a.t7=a.t1.crypto_secretstream_xchacha20poly1305_push.call(a.t1,a.t2,a.t3,a.t5,a.t6),a.abrupt(\"return\",a.t0.toBuffer.call(a.t0,a.t7));case 19:case\"end\":return a.stop()}},null,this,null,Promise)},r.crypto_secretstream_xchacha20poly1305_pull=function(t,e){var r,s,u,a=arguments;return n.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:\"\",s=a.length>3&&void 0!==a[3]?a[3]:0,!(e.length<this.CRYPTO_SECRETSTREAM_XCHACHA20POLY1305_ABYTES)){c.next=4;break}throw new f(\"Invalid ciphertext size\");case 4:return c.t0=this.sodium,c.t1=t,c.next=8,n.awrap(i.toBuffer(e));case 8:if(c.t2=c.sent,!(r.length>0)){c.next=15;break}return c.next=12,n.awrap(i.toBuffer(r));case 12:c.t3=c.sent,c.next=16;break;case 15:c.t3=null;case 16:if(c.t4=c.t3,c.t5=s,u=c.t0.crypto_secretstream_xchacha20poly1305_pull.call(c.t0,c.t1,c.t2,c.t4,c.t5),!(s!==u.tag)){c.next=21;break}throw new f(\"Invalid tag (Given: \"+s+\"; Expected: \"+u.tag+\")\");case 21:return c.abrupt(\"return\",i.toBuffer(u.message));case 22:case\"end\":return c.stop()}},null,this,null,Promise)},r.crypto_secretstream_xchacha20poly1305_rekey=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.sodium.crypto_secretstream_xchacha20poly1305_rekey(t);case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.randombytes_buf=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,n.awrap(this.sodium.randombytes_buf(t));case 3:return e.t1=e.sent,e.abrupt(\"return\",e.t0.toBuffer.call(e.t0,e.t1));case 5:case\"end\":return e.stop()}},null,this,null,Promise)},r.randombytes_uniform=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.sodium.randombytes_uniform(t));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.sodium_add=function(t,e){var r;return n.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,n.awrap(i.cloneBuffer(t));case 2:return r=s.sent,this.sodium.add(r,e),s.abrupt(\"return\",r);case 5:case\"end\":return s.stop()}},null,this,null,Promise)},r.sodium_bin2hex=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.sodium.to_hex(t));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.sodium_compare=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",this.sodium.compare(t,e));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},r.sodium_hex2bin=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",Buffer.from(this.sodium.from_hex(t)));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.sodium_increment=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",this.sodium.increment(t));case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.sodium_is_zero=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",this.sodium.is_zero(t,e));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},r.sodium_memcmp=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",this.sodium.memcmp(t,e));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},r.sodium_memzero=function(t){return n.async(function(e){for(;;)switch(e.prev=e.next){case 0:this.sodium.memzero(t);case 1:case\"end\":return e.stop()}},null,this,null,Promise)},r.sodium_pad=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=i,r.t1=this.sodium,r.next=4,n.awrap(i.toBuffer(t));case 4:return r.t2=r.sent,r.t3=e,r.t4=r.t1.pad.call(r.t1,r.t2,r.t3),r.abrupt(\"return\",r.t0.toBuffer.call(r.t0,r.t4));case 8:case\"end\":return r.stop()}},null,this,null,Promise)},r.sodium_unpad=function(t,e){return n.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt(\"return\",i.toBuffer(this.sodium.unpad(t,e)));case 1:case\"end\":return r.stop()}},null,this,null,Promise)},e}(a)}).call(this,r)}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}