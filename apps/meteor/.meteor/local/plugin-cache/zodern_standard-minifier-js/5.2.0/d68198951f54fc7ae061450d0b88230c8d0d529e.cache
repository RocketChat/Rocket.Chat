{"code":"function module(n,o,u){var l,c;function t(n,o){var u=c(!1),t=c(),e=l(function(){var l;u.current=!1,t.current=setTimeout(function(){u.current=!0,n()},null!==(l=null==o?void 0:o.threshold)&&void 0!==l?l:700)});return{onClick:l(function(n){!u.current&&null!=o&&o.onClick&&o.onClick(n)}),onMouseDown:l(function(n){var u;e(),null==o||null===(u=o.onMouseDown)||void 0===u||u.call(o,n)}),onMouseUp:l(function(n){var u;clearTimeout(t.current),null==o||null===(u=o.onMouseUp)||void 0===u||u.call(o,n)}),onTouchStart:l(function(n){var u;e(),null==o||null===(u=o.onTouchStart)||void 0===u||u.call(o,n)}),onTouchEnd:l(function(n){clearTimeout(t.current),null!=o&&o.onTouchEnd&&o.onTouchEnd(n)})}}u.export({useLongPress:function(){return t}}),u.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback:function(n){l=n}},0),u.link(\"react\",{useRef:function(n){c=n}},1)}","map":"{\"version\":3,\"sources\":[\"client/voip/modal/DialPad/hooks/useLongPress.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { MouseEvent, MouseEventHandler, TouchEvent, TouchEventHandler } from 'react';\\nimport { useRef } from 'react';\\n\\ntype UseLongPressResult = {\\n\\tonClick: MouseEventHandler<HTMLButtonElement>;\\n\\tonMouseDown: MouseEventHandler<HTMLButtonElement>;\\n\\tonMouseUp: MouseEventHandler<HTMLButtonElement>;\\n\\tonTouchStart: TouchEventHandler<HTMLButtonElement>;\\n\\tonTouchEnd: TouchEventHandler<HTMLButtonElement>;\\n};\\n\\nexport function useLongPress(\\n\\tonLongPress: () => void,\\n\\toptions?: Partial<UseLongPressResult> & {\\n\\t\\tthreshold?: number;\\n\\t},\\n): UseLongPressResult {\\n\\tconst isLongPress = useRef(false);\\n\\tconst timerRef = useRef<NodeJS.Timeout>();\\n\\n\\tconst startPressTimer = useMutableCallback((): void => {\\n\\t\\tisLongPress.current = false;\\n\\t\\ttimerRef.current = setTimeout(() => {\\n\\t\\t\\tisLongPress.current = true;\\n\\t\\t\\tonLongPress();\\n\\t\\t}, options?.threshold ?? 700);\\n\\t});\\n\\n\\tconst handleOnClick = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tif (isLongPress.current || !options?.onClick) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\toptions.onClick(e);\\n\\t});\\n\\n\\tconst handleOnMouseDown = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tstartPressTimer();\\n\\n\\t\\toptions?.onMouseDown?.(e);\\n\\t});\\n\\n\\tconst handleOnMouseUp = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tclearTimeout(timerRef.current);\\n\\n\\t\\toptions?.onMouseUp?.(e);\\n\\t});\\n\\n\\tconst handleOnTouchStart = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\\n\\t\\tstartPressTimer();\\n\\n\\t\\toptions?.onTouchStart?.(e);\\n\\t});\\n\\n\\tconst handleOnTouchEnd = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\\n\\t\\tclearTimeout(timerRef.current);\\n\\n\\t\\tif (options?.onTouchEnd) {\\n\\t\\t\\toptions.onTouchEnd(e);\\n\\t\\t}\\n\\t});\\n\\n\\treturn {\\n\\t\\tonClick: handleOnClick,\\n\\t\\tonMouseDown: handleOnMouseDown,\\n\\t\\tonMouseUp: handleOnMouseUp,\\n\\t\\tonTouchStart: handleOnTouchStart,\\n\\t\\tonTouchEnd: handleOnTouchEnd,\\n\\t};\\n}\\n\",null],\"names\":[\"useMutableCallback\",\"useRef\",\"useLongPress\",\"onLongPress\",\"options\",\"isLongPress\",\"timerRef\",\"startPressTimer\",\"_options$threshold\",\"current\",\"setTimeout\",\"threshold\",\"onClick\",\"e\",\"onMouseDown\",\"_options$onMouseDown\",\"call\",\"onMouseUp\",\"_options$onMouseUp\",\"clearTimeout\",\"onTouchStart\",\"_options$onTouchStart\",\"onTouchEnd\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAAiEA,EAAAC,EAY3D,SAAUC,EACfC,CAAuB,CACvBC,CAEC,EAED,IAAMC,EAAcJ,EAAO,CAAA,GACrBK,EAAWL,IAEXM,EAAkBP,EAAmB,WAAW,IAAAQ,CACrDH,CAAAA,EAAYI,OAAO,CAAG,CAAA,EACtBH,EAASG,OAAO,CAAGC,WAAW,WAC7BL,EAAYI,OAAO,CAAG,CAAA,EACtBN,GACD,EAAC,AAAoB,OAApBK,CAAAA,EAAEJ,MAAAA,EAAO,KAAA,EAAPA,EAASO,SAAS,AAATA,GAASH,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAC1B,GAoCA,MAAO,CACNI,QAnCqBZ,EAAmB,SAACa,CAAgC,GACrER,EAAYI,OAAO,EAAKL,MAAAA,GAAAA,EAASQ,OAAO,EAI5CR,EAAQQ,OAAO,CAACC,EACjB,GA8BCC,YA5ByBd,EAAmB,SAACa,CAAgC,EAAU,IAAAE,EACvFR,IAEAH,MAAAA,GAAO,AAAa,OAAbW,CAAAA,EAAPX,EAASU,WAAW,AAAXA,GAAWC,AAAA,KAAA,IAAAA,GAApBA,EAAAC,IAAA,CAAAZ,EAAuBS,EACxB,GAyBCI,UAvBuBjB,EAAmB,SAACa,CAAgC,EAAU,IAAAK,EACrFC,aAAab,EAASG,OAAO,EAE7BL,MAAAA,GAAO,AAAW,OAAXc,CAAAA,EAAPd,EAASa,SAAS,AAATA,GAASC,AAAA,KAAA,IAAAA,GAAlBA,EAAAF,IAAA,CAAAZ,EAAqBS,EACtB,GAoBCO,aAlB0BpB,EAAmB,SAACa,CAAgC,EAAU,IAAAQ,EACxFd,IAEAH,MAAAA,GAAO,AAAc,OAAdiB,CAAAA,EAAPjB,EAASgB,YAAY,AAAZA,GAAYC,AAAA,KAAA,IAAAA,GAArBA,EAAAL,IAAA,CAAAZ,EAAwBS,EACzB,GAeCS,WAbwBtB,EAAmB,SAACa,CAAgC,EAC5EM,aAAab,EAASG,OAAO,QAEzBL,GAAAA,EAASkB,UAAU,EACtBlB,EAAQkB,UAAU,CAACT,EAErB,GASD,CAtEAU,EAAOC,MAAE,CAAA,CAAAtB,aAAkB,WAAQ,OAAAA,CAAA,CAAA,GAA8BqB,EAAAE,IAAA,CAAA,8BAAA,CAAAzB,mBAAA,SAAA0B,CAAA,EAAA1B,EAAA0B,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,QAAA,CAAAxB,OAAA,SAAAyB,CAAA,EAAAzB,EAAAyB,CAAA,CAAA,EAAA\"}"}