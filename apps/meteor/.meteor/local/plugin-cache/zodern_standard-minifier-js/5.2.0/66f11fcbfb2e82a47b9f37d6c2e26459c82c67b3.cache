{"code":"function module(e,r,i){i.link(\"react/jsx-runtime\",{jsx:function(e){n=e},jsxs:function(e){o=e}},0),i.link(\"@rocket.chat/fuselage\",{Button:function(e){t=e},FieldGroup:function(e){a=e},Field:function(e){s=e},FieldLabel:function(e){d=e},ButtonGroup:function(e){l=e},PasswordInput:function(e){u=e},FieldRow:function(e){c=e},FieldError:function(e){f=e}},1),i.link(\"@rocket.chat/fuselage-hooks\",{useUniqueId:function(e){m=e}},2),i.link(\"@rocket.chat/layout\",{Form:function(e){h=e}},3),i.link(\"@rocket.chat/ui-client\",{PasswordVerifier:function(e){p=e},useValidatePassword:function(e){w=e}},4),i.link(\"@rocket.chat/ui-contexts\",{useSetting:function(e){v=e},useRouter:function(e){_=e},useRouteParameter:function(e){g=e},useUser:function(e){k=e},useMethod:function(e){b=e},useTranslation:function(e){y=e},useLoginWithToken:function(e){P=e}},5),i.link(\"react\",{useEffect:function(e){F=e},useRef:function(e){q=e}},6),i.link(\"react-hook-form\",{useForm:function(e){C=e}},7),i.link(\"../template/HorizontalTemplate\",{default:function(e){x=e}},8);var n,o,t,a,s,d,l,u,c,f,m,h,p,w,v,_,g,k,b,y,P,F,q,C,x,R=this&&this.__awaiter||function(e,r,i,n){return new(i||(i=Promise))(function(o,t){function a(e){try{d(n.next(e))}catch(e){t(e)}}function s(e){try{d(n.throw(e))}catch(e){t(e)}}function d(e){var r;e.done?o(e.value):((r=e.value)instanceof i?r:new i(function(e){e(r)})).then(a,s)}d((n=n.apply(e,r||[])).next())})};let S=({requirePasswordChange:e,requirePasswordChangeReason:r=e?\"You_need_to_change_your_password\":\"Please_enter_your_new_password_below\"}={})=>r;i.exportDefault(()=>{var e,r,i;let j=k(),T=y(),$=b(\"setUserPassword\"),A=b(\"resetPassword\"),B=g(\"token\"),I=q(null),U=m(),E=m(),G=m(),H=m(),L=v(\"Accounts_RequirePasswordConfirmation\"),O=String(v(\"Accounts_PasswordPlaceholder\")),V=String(v(\"Accounts_ConfirmPasswordPlaceholder\")),z=_(),D=S(j||{}),M=P(),{register:W,handleSubmit:Y,setError:J,formState:{errors:K,isSubmitting:N},watch:Q}=C({mode:\"onBlur\"}),X=Q(\"password\"),Z=w(X);return F(()=>{I.current&&I.current.focus()},[]),n(x,{children:o(h,{tabIndex:-1,ref:I,\"aria-labelledby\":H,\"aria-describedby\":\"welcomeTitle\",onSubmit:Y(e=>R(void 0,[e],void 0,function*({password:e}){try{if(B){let r=yield A(B,e);yield M(r.token),z.navigate(\"/home\")}else yield $(e)}catch({error:e,reason:r}){J(\"password\",{message:String(null!=r?r:e)})}})),children:[o(h.Header,{children:[n(h.Title,{id:H,children:T(\"Reset_password\")}),n(h.Subtitle,{children:T(D)})]}),n(h.Container,{children:o(a,{children:[o(s,{children:[n(d,{required:!0,htmlFor:U,children:T(\"registration.component.form.password\")}),n(c,{children:n(u,Object.assign({},W(\"password\",{required:T(\"registration.component.form.requiredField\"),validate:()=>!!Z||T(\"Password_must_meet_the_complexity_requirements\")}),{error:null===(e=null==K?void 0:K.password)||void 0===e?void 0:e.message,\"aria-invalid\":K.password?\"true\":\"false\",\"aria-required\":\"true\",id:U,placeholder:O||T(\"Create_a_password\"),\"aria-describedby\":`${G} ${U}-error`}))}),(null==K?void 0:K.password)&&n(f,{\"aria-live\":\"assertive\",id:`${U}-error`,children:K.password.message}),n(p,{password:X,id:G})]}),L&&o(s,{children:[n(d,{required:!0,htmlFor:E,children:T(\"registration.component.form.confirmPassword\")}),n(c,{children:n(u,Object.assign({},W(\"passwordConfirmation\",{required:T(\"registration.component.form.requiredField\"),deps:[\"password\"],validate:e=>X===e||T(\"registration.component.form.invalidConfirmPass\")}),{error:null===(r=null==K?void 0:K.passwordConfirmation)||void 0===r?void 0:r.message,\"aria-required\":\"true\",\"aria-invalid\":K.passwordConfirmation?\"true\":\"false\",\"aria-describedby\":`${E}-error`,id:E,placeholder:V||T(\"Confirm_password\"),disabled:!Z}))}),K.passwordConfirmation&&n(f,{\"aria-live\":\"assertive\",id:`${E}-error`,children:null===(i=K.passwordConfirmation)||void 0===i?void 0:i.message})]})]})}),n(h.Footer,{children:n(l,{children:n(t,{primary:!0,loading:N,type:\"submit\",children:T(\"Reset\")})})})]})})})}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}