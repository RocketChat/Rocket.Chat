{"code":"function module(t,e,i){i.export({formatCustomFieldsMetadata:()=>l});let l=(t,e)=>t?t.filter(t=>\"visible\"===t.visibility&&t.scope===e).map(t=>{let{_id:e,label:i,options:l,defaultValue:o,required:m}=t;return{name:e,label:i,type:l?\"select\":\"text\",required:m,defaultValue:o,options:null==l?void 0:l.split(\",\").map(t=>[t.trim(),t.trim()])}}):[]}","map":"{\"version\":3,\"sources\":[\"client/views/omnichannel/directory/utils/formatCustomFieldsMetadata.tsx\",\"<anon>\"],\"sourcesContent\":[\"import type { ILivechatCustomField, Serialized, CustomFieldMetadata } from '@rocket.chat/core-typings';\\n\\nexport const formatCustomFieldsMetadata = (\\n\\tcustomFields: Serialized<ILivechatCustomField>[],\\n\\tscope: 'visitor' | 'room',\\n): CustomFieldMetadata[] => {\\n\\tif (!customFields) {\\n\\t\\treturn [];\\n\\t}\\n\\n\\treturn customFields\\n\\t\\t.filter((field) => field.visibility === 'visible' && field.scope === scope)\\n\\t\\t.map(({ _id, label, options, defaultValue, required }) => ({\\n\\t\\t\\tname: _id,\\n\\t\\t\\tlabel,\\n\\t\\t\\ttype: options ? 'select' : 'text',\\n\\t\\t\\trequired,\\n\\t\\t\\tdefaultValue,\\n\\t\\t\\toptions: options?.split(',').map((item) => [item.trim(), item.trim()]),\\n\\t\\t}));\\n};\\n\",null],\"names\":[\"module\",\"export\",\"formatCustomFieldsMetadata\",\"customFields\",\"scope\",\"filter\",\"field\",\"visibility\",\"map\",\"_ref\",\"_id\",\"label\",\"options\",\"defaultValue\",\"required\",\"name\",\"type\",\"split\",\"item\",\"trim\"],\"mappings\":\"uBAEAA,EAAOC,MAAM,CAAA,CAAAC,2BAA6BA,IACzCA,CAE0B,GAHpB,IAAMA,EAA6BA,CACzCC,EACAC,IAEA,AAAKD,EAIEA,EACLE,MAAM,CAAEC,GAAUA,AAAqB,YAArBA,EAAMC,UAAU,EAAkBD,EAAMF,KAAK,GAAKA,GACpEI,GAAG,CAACC,IAAA,GAAC,CAAEC,IAAAA,CAAG,CAAEC,MAAAA,CAAK,CAAEC,QAAAA,CAAO,CAAEC,aAAAA,CAAY,CAAEC,SAAAA,CAAAA,CAAU,CAAAL,EAAA,MAAM,CAC1DM,KAAML,EACNC,MAAAA,EACAK,KAAMJ,EAAU,SAAW,OAC3BE,SAAAA,EACAD,aAAAA,EACAD,QAASA,MAAAA,EAAO,KAAA,EAAPA,EAASK,KAAK,CAAC,KAAKT,GAAG,CAAEU,GAAS,CAACA,EAAKC,IAAI,GAAID,EAAKC,IAAI,GAAG,EACrE,GAZM,EAAE\"}"}