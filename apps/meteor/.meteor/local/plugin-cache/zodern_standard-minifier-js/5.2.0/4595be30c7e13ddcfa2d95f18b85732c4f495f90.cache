{"code":"function module(e,r){\"use strict\";var t=this&&this.__assign||function(){return(t=Object.assign||function(e){for(var r,t=1,i=arguments.length;t<i;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,\"__esModule\",{value:!0});var n=e(\"react/jsx-runtime\"),o=e(\"@rocket.chat/fuselage\"),a=e(\"@rocket.chat/fuselage-hooks\"),s=e(\"@rocket.chat/layout\"),l=e(\"react\"),c=e(\"react-hook-form\"),d=e(\"react-i18next\"),u=i(e(\"../../common/AgreeTermsField\"));r.default=function(e){var r=e.currentStep,i=e.stepCount,m=e.initialValues,f=e.validateEmail,h=e.offline,p=e.onSubmit,x=e.termsHref,g=e.policyHref,j=void 0===g?\"https://rocket.chat/privacy\":g,b=e.onClickRegisterOffline,v=(0,d.useTranslation)().t,y=(0,a.useUniqueId)(),F=(0,a.useUniqueId)(),S=(0,a.useUniqueId)(),k=(0,l.useRef)(null),B=!(0,a.useBreakpoints)().includes(\"md\"),_=(0,c.useForm)({mode:\"onBlur\",defaultValues:t({email:\"\",agreement:!1,updates:!0},m)}),q=_.control,I=_.register,C=_.formState,E=C.isSubmitting,O=C.isValidating,P=C.errors,H=_.handleSubmit;return(0,l.useEffect)(function(){k.current&&k.current.focus()},[]),(0,n.jsx)(c.FormProvider,t({},_,{children:(0,n.jsxs)(s.Form,t({ref:k,tabIndex:-1,\"aria-labelledby\":\"\".concat(y,\"-title\"),\"aria-describedby\":\"\".concat(y,\"-informed-disclaimer \").concat(y,\"-engagement-disclaimer\"),onSubmit:H(p)},{children:[(0,n.jsxs)(s.Form.Header,{children:[(0,n.jsx)(s.Form.Steps,{currentStep:r,stepCount:i}),(0,n.jsx)(s.Form.Title,t({id:\"\".concat(y,\"-title\")},{children:v(\"form.registeredServerForm.title\")}))]}),(0,n.jsx)(s.Form.Container,{children:(0,n.jsxs)(o.FieldGroup,{children:[(0,n.jsxs)(o.Field,{children:[(0,n.jsx)(o.FieldLabel,t({required:!0,display:\"flex\",alignItems:\"center\",htmlFor:F},{children:v(\"form.registeredServerForm.fields.accountEmail.inputLabel\")})),(0,n.jsx)(o.FieldRow,{children:(0,n.jsx)(c.Controller,{name:\"email\",control:q,rules:{required:String(v(\"component.form.requiredField\")),validate:f},render:function(e){var r=e.field;return(0,n.jsx)(o.EmailInput,t({},r,{\"aria-invalid\":!!P.email,\"aria-required\":\"true\",\"aria-describedby\":\"\".concat(F,\"-error\"),placeholder:v(\"form.registeredServerForm.fields.accountEmail.inputPlaceholder\"),id:F}))}})}),P.email&&(0,n.jsx)(o.FieldError,t({\"aria-live\":\"assertive\",id:\"\".concat(F,\"-error\")},{children:v(\"component.form.requiredField\")}))]}),(0,n.jsx)(u.default,{agreementField:S,termsHref:void 0===x?\"https://rocket.chat/terms\":x,policyHref:j,control:q,errors:P}),(0,n.jsx)(\"input\",t({type:\"hidden\"},I(\"updates\")))]})}),(0,n.jsx)(s.Form.Footer,{children:(0,n.jsxs)(o.Box,t({display:\"flex\",flexDirection:\"column\",alignItems:\"flex-start\"},{children:[(0,n.jsxs)(o.ButtonGroup,t({vertical:B,flexGrow:1},{children:[(0,n.jsx)(o.Button,t({type:\"submit\",primary:!0,disabled:E||O||h},{children:v(\"component.form.action.registerWorkspace\")})),h&&(0,n.jsx)(o.Button,t({type:\"button\",disabled:!h,onClick:b},{children:v(\"component.form.action.registerOffline\")}))]})),(0,n.jsx)(o.Box,t({id:\"\".concat(y,\"-engagement-disclaimer\"),mbs:24,fontScale:\"c1\"},{children:v(\"form.registeredServerForm.registrationEngagement\")})),(0,n.jsx)(o.Box,t({id:\"\".concat(y,\"-informed-disclaimer\"),mbs:24,fontScale:\"c1\"},{children:(0,n.jsxs)(d.Trans,t({i18nKey:\"form.registeredServerForm.registrationKeepInformed\"},{children:[\"By submitting this form you consent to receive more information about Rocket.Chat products, events and updates, according to our\",(0,n.jsx)(\"a\",t({href:j,target:\"_blank\",rel:\"noopener noreferrer\"},{children:\"Privacy Policy\"})),\". You may unsubscribe at any time.\"]}))}))]}))})]}))}))}}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}