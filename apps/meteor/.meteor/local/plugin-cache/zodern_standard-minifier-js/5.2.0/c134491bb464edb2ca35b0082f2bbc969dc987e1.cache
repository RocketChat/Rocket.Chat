{"code":"function module(l,n,o){let u,e;function r(l,n){let o=e(!1),r=e(),c=u(()=>{var u;o.current=!1,r.current=setTimeout(()=>{o.current=!0,l()},null!==(u=null==n?void 0:n.threshold)&&void 0!==u?u:700)}),t=u(l=>{!o.current&&null!=n&&n.onClick&&n.onClick(l)}),a=u(l=>{var o;c(),null==n||null===(o=n.onMouseDown)||void 0===o||o.call(n,l)}),i=u(l=>{var o;clearTimeout(r.current),null==n||null===(o=n.onMouseUp)||void 0===o||o.call(n,l)}),s=u(l=>{var o;c(),null==n||null===(o=n.onTouchStart)||void 0===o||o.call(n,l)}),d=u(l=>{clearTimeout(r.current),null!=n&&n.onTouchEnd&&n.onTouchEnd(l)});return{onClick:t,onMouseDown:a,onMouseUp:i,onTouchStart:s,onTouchEnd:d}}o.export({useLongPress:()=>r}),o.link(\"@rocket.chat/fuselage-hooks\",{useMutableCallback(l){u=l}},0),o.link(\"react\",{useRef(l){e=l}},1)}","map":"{\"version\":3,\"sources\":[\"client/voip/modal/DialPad/hooks/useLongPress.tsx\",\"<anon>\"],\"sourcesContent\":[\"import { useMutableCallback } from '@rocket.chat/fuselage-hooks';\\nimport type { MouseEvent, MouseEventHandler, TouchEvent, TouchEventHandler } from 'react';\\nimport { useRef } from 'react';\\n\\ntype UseLongPressResult = {\\n\\tonClick: MouseEventHandler<HTMLButtonElement>;\\n\\tonMouseDown: MouseEventHandler<HTMLButtonElement>;\\n\\tonMouseUp: MouseEventHandler<HTMLButtonElement>;\\n\\tonTouchStart: TouchEventHandler<HTMLButtonElement>;\\n\\tonTouchEnd: TouchEventHandler<HTMLButtonElement>;\\n};\\n\\nexport function useLongPress(\\n\\tonLongPress: () => void,\\n\\toptions?: Partial<UseLongPressResult> & {\\n\\t\\tthreshold?: number;\\n\\t},\\n): UseLongPressResult {\\n\\tconst isLongPress = useRef(false);\\n\\tconst timerRef = useRef<NodeJS.Timeout>();\\n\\n\\tconst startPressTimer = useMutableCallback((): void => {\\n\\t\\tisLongPress.current = false;\\n\\t\\ttimerRef.current = setTimeout(() => {\\n\\t\\t\\tisLongPress.current = true;\\n\\t\\t\\tonLongPress();\\n\\t\\t}, options?.threshold ?? 700);\\n\\t});\\n\\n\\tconst handleOnClick = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tif (isLongPress.current || !options?.onClick) {\\n\\t\\t\\treturn;\\n\\t\\t}\\n\\n\\t\\toptions.onClick(e);\\n\\t});\\n\\n\\tconst handleOnMouseDown = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tstartPressTimer();\\n\\n\\t\\toptions?.onMouseDown?.(e);\\n\\t});\\n\\n\\tconst handleOnMouseUp = useMutableCallback((e: MouseEvent<HTMLButtonElement>): void => {\\n\\t\\tclearTimeout(timerRef.current);\\n\\n\\t\\toptions?.onMouseUp?.(e);\\n\\t});\\n\\n\\tconst handleOnTouchStart = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\\n\\t\\tstartPressTimer();\\n\\n\\t\\toptions?.onTouchStart?.(e);\\n\\t});\\n\\n\\tconst handleOnTouchEnd = useMutableCallback((e: TouchEvent<HTMLButtonElement>): void => {\\n\\t\\tclearTimeout(timerRef.current);\\n\\n\\t\\tif (options?.onTouchEnd) {\\n\\t\\t\\toptions.onTouchEnd(e);\\n\\t\\t}\\n\\t});\\n\\n\\treturn {\\n\\t\\tonClick: handleOnClick,\\n\\t\\tonMouseDown: handleOnMouseDown,\\n\\t\\tonMouseUp: handleOnMouseUp,\\n\\t\\tonTouchStart: handleOnTouchStart,\\n\\t\\tonTouchEnd: handleOnTouchEnd,\\n\\t};\\n}\\n\",null],\"names\":[\"useMutableCallback\",\"useRef\",\"useLongPress\",\"onLongPress\",\"options\",\"isLongPress\",\"timerRef\",\"startPressTimer\",\"_options$threshold\",\"current\",\"setTimeout\",\"threshold\",\"handleOnClick\",\"e\",\"onClick\",\"handleOnMouseDown\",\"_options$onMouseDown\",\"onMouseDown\",\"call\",\"handleOnMouseUp\",\"_options$onMouseUp\",\"clearTimeout\",\"onMouseUp\",\"handleOnTouchStart\",\"_options$onTouchStart\",\"onTouchStart\",\"handleOnTouchEnd\",\"onTouchEnd\",\"module\",\"export\",\"link\",\"v\"],\"mappings\":\"2BAAmCA,EAA8BC,EAY3D,SAAUC,EACfC,CAAuB,CACvBC,CAEC,EAED,IAAMC,EAAcJ,EAAO,CAAA,GACrBK,EAAWL,IAEXM,EAAkBP,EAAmB,KAAW,IAAAQ,CACrDH,CAAAA,EAAYI,OAAO,CAAG,CAAA,EACtBH,EAASG,OAAO,CAAGC,WAAW,KAC7BL,EAAYI,OAAO,CAAG,CAAA,EACtBN,GACD,EAAC,AAAoB,OAApBK,CAAAA,EAAEJ,MAAAA,EAAO,KAAA,EAAPA,EAASO,SAAS,AAATA,GAASH,AAAA,KAAA,IAAAA,EAAAA,EAAI,IAC1B,GAEMI,EAAgBZ,EAAoBa,KACrCR,EAAYI,OAAO,EAAKL,MAAAA,GAAAA,EAASU,OAAO,EAI5CV,EAAQU,OAAO,CAACD,EACjB,GAEME,EAAoBf,EAAoBa,IAA0C,IAAAG,EACvFT,IAEAH,MAAAA,GAAO,AAAa,OAAbY,CAAAA,EAAPZ,EAASa,WAAW,AAAXA,GAAWD,AAAA,KAAA,IAAAA,GAApBA,EAAAE,IAAA,CAAAd,EAAuBS,EACxB,GAEMM,EAAkBnB,EAAoBa,IAA0C,IAAAO,EACrFC,aAAaf,EAASG,OAAO,EAE7BL,MAAAA,GAAO,AAAW,OAAXgB,CAAAA,EAAPhB,EAASkB,SAAS,AAATA,GAASF,AAAA,KAAA,IAAAA,GAAlBA,EAAAF,IAAA,CAAAd,EAAqBS,EACtB,GAEMU,EAAqBvB,EAAoBa,IAA0C,IAAAW,EACxFjB,IAEAH,MAAAA,GAAO,AAAc,OAAdoB,CAAAA,EAAPpB,EAASqB,YAAY,AAAZA,GAAYD,AAAA,KAAA,IAAAA,GAArBA,EAAAN,IAAA,CAAAd,EAAwBS,EACzB,GAEMa,EAAmB1B,EAAoBa,IAC5CQ,aAAaf,EAASG,OAAO,QAEzBL,GAAAA,EAASuB,UAAU,EACtBvB,EAAQuB,UAAU,CAACd,EAErB,GAEA,MAAO,CACNC,QAASF,EACTK,YAAaF,EACbO,UAAWH,EACXM,aAAcF,EACdI,WAAYD,EAEd,CAtEAE,EAAOC,MAAE,CAAA,CAAA3B,aAAkBA,IAAEA,CAAM,GAA8B0B,EAAAE,IAAA,CAAA,8BAAA,CAAA9B,mBAAA+B,CAAA,EAAA/B,EAAA+B,CAAA,CAAA,EAAA,GAAAH,EAAAE,IAAA,CAAA,QAAA,CAAA7B,OAAA8B,CAAA,EAAA9B,EAAA8B,CAAA,CAAA,EAAA\"}"}