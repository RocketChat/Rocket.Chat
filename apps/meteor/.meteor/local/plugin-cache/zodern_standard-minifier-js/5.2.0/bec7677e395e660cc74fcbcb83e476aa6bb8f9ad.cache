{"code":"function module(e,t,l){let r,i,n,a,c,o,m,d,h,s;l.link(\"react/jsx-runtime\",{jsx(e){r=e},jsxs(e){i=e}},0),l.link(\"@rocket.chat/fuselage\",{Box(e){n=e},Skeleton(e){a=e}},1),l.link(\"@rocket.chat/ui-kit\",{\"*\"(e){c=e}},2),l.link(\"react\",{memo(e){o=e},useEffect(e){m=e},useState(e){d=e}},3),l.link(\"../hooks/useSurfaceType\",{useSurfaceType(e){h=e}},4),l.link(\"./ImageBlock.styles\",{Image(e){s=e}},5);let u=e=>{if(!e.complete)return{loading:!0,width:360,height:3240/21};let{naturalWidth:t,naturalHeight:l}=e,r=t>l?Math.min(t,360)/t:Math.min(l,360)/l;return{loading:!1,width:t*r,height:l*r}};l.exportDefault(o(({className:e,block:t,surfaceRenderer:l})=>{let o=h(),[{loading:g,width:f,height:k},x]=d(()=>{let e=document.createElement(\"img\");return e.src=t.imageUrl,u(e)});return m(()=>{let e=document.createElement(\"img\"),l=()=>{x(u(e))};return e.addEventListener(\"load\",l),e.src=t.imageUrl,e.complete&&(e.removeEventListener(\"load\",l),x(u(e))),()=>{e.removeEventListener(\"load\",l)}},[t.imageUrl]),r(n,{className:e,display:\"flex\",flexDirection:\"column\",flexWrap:\"nowrap\",alignItems:\"banner\"===o||\"message\"===o?\"flex-start\":\"center\",children:i(n,{overflow:\"hidden\",width:f,children:[t.title&&r(n,{fontScale:\"c1\",color:\"hint\",withTruncatedText:!0,marginBlockEnd:4,children:l.renderTextObject(t.title,0,c.BlockContext.NONE)}),g?r(a,{variant:\"rect\",width:f,height:k}):r(s,{imageUrl:t.imageUrl,width:f,height:k,\"aria-label\":t.altText})]})})}))}","map":"{\"version\":3,\"sources\":[\"<anon>\"],\"names\":[],\"mappings\":\"\"}"}